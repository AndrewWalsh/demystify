import{d as G,i as St,o as be,a as ea,u as s,A as Tt,r as L,c as z,p as ta,b as aa,k as la,e as _a,t as Ue,f as za,g as tt,w as ue,h as Rt,j as Wa,l as Ea,E as Ba,m as Va,T as Aa,F as ee,O as qa,n as ze,q as ut,P as _t,N as Xe,s as zt,v as Da,x as Ma,y as oa,z as $,B as m,C as b,D as g,G as Ia,H as Le,I as he,J as Oa,K as _,L as Ge,M as Na,Q as h,R as me,S as Ve,U as K,V as O,W as Ae,X as ja,Y as A,Z as Fa,_ as kt,$ as Y,a0 as xe,a1 as La,a2 as X,a3 as ne,a4 as Je,a5 as Wt,a6 as fe,a7 as Ga,a8 as Ka,a9 as Me,aa as Ke,ab as ra,ac as Re,ad as Ya,ae as at,af as se,ag as Ye,ah as ie,ai as Ie,aj as lt,ak as Pe,al as ot,am as je,an as oe,ao as Za,ap as Xa,aq as Qa,ar as we,as as Ja,at as Ce,au as el,av as Et,aw as na,ax as Bt,ay as tl,az as Se,aA as sa,aB as al,aC as ll,aD as ol,aE as rl,aF as nl,aG as de,aH as sl,aI as Te,aJ as Oe,aK as Ee,aL as st,aM as Vt,aN as ia,aO as At,aP as ht,aQ as it,aR as qt,aS as dt,aT as il,aU as pe,aV as ul,aW as dl,aX as cl,aY as pl,aZ as ct,a_ as Dt,a$ as ml,b0 as vl,b1 as fl,b2 as Mt,b3 as hl,b4 as bl,b5 as gl,b6 as yl,b7 as xl,b8 as wl,b9 as $e,ba as ua,bb as da,bc as bt,bd as Sl,be as rt,bf as Tl,bg as Ne,bh as kl,bi as De,bj as ca,bk as Hl,bl as pa,bm as Ul,bn as Cl,bo as $l,bp as Pl,bq as Rl,br as _l,bs as zl,bt as Wl,bu as gt,bv as El,bw as Bl,bx as It,by as Vl}from"./index-Bvmx_tWR.js";import{i as yt,r as xt}from"./EmptyState.vue-C5gmE932.js";import{m as ma,C as va}from"./EditSidebarListElement.vue-BAb_Bv6W.js";import{x as Al,a as ql}from"./ViewLayoutContent.vue-E7i3OHQE.js";import{a as fa,b as pt,e as Dl,w as wt,g as Ml,m as Il}from"./DeleteSidebarListElement.vue-D239cwOv.js";import{j as Ol,d as Ht}from"./LibraryIcon.vue-DJNhMi5G.js";const ha={100:{name:"Continue",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/100",color:"var(--scalar-color-blue)"},101:{name:"Switching Protocols",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/101",color:"var(--scalar-color-blue)"},102:{name:"Processing",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/102",color:"var(--scalar-color-blue)"},103:{name:"Early Hints",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/103",color:"var(--scalar-color-blue)"},200:{name:"OK",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/200",color:"var(--scalar-color-green)"},201:{name:"Created",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/201",color:"var(--scalar-color-green)"},202:{name:"Accepted",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/202",color:"var(--scalar-color-green)"},203:{name:"Non-Authoritative Information",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/203",color:"var(--scalar-color-green)"},204:{name:"No Content",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/204",color:"var(--scalar-color-green)"},205:{name:"Reset Content",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/205",color:"var(--scalar-color-green)"},206:{name:"Partial Content",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/206",color:"var(--scalar-color-green)"},207:{name:"Multi-Status",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/207",color:"var(--scalar-color-green)"},208:{name:"Already Reported",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/208",color:"var(--scalar-color-green)"},226:{name:"IM Used",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/226",color:"var(--scalar-color-green)"},300:{name:"Multiple Choices",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/300",color:"var(--scalar-color-yellow)"},301:{name:"Moved Permanently",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/301",color:"var(--scalar-color-yellow)"},302:{name:"Found",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/302",color:"var(--scalar-color-yellow)"},303:{name:"See Other",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/303",color:"var(--scalar-color-yellow)"},304:{name:"Not Modified",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/304",color:"var(--scalar-color-yellow)"},305:{name:"Use Proxy",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/305",color:"var(--scalar-color-yellow)"},306:{name:"(Unused)",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/306",color:"var(--scalar-color-yellow)"},307:{name:"Temporary Redirect",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/307",color:"var(--scalar-color-yellow)"},308:{name:"Permanent Redirect",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/308",color:"var(--scalar-color-yellow)"},400:{name:"Bad Request",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400",color:"var(--scalar-color-red)"},401:{name:"Unauthorized",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401",color:"var(--scalar-color-red)"},402:{name:"Payment Required",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/402",color:"var(--scalar-color-red)"},403:{name:"Forbidden",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403",color:"var(--scalar-color-red)"},404:{name:"Not Found",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404",color:"var(--scalar-color-red)"},405:{name:"Method Not Allowed",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/405",color:"var(--scalar-color-red)"},406:{name:"Not Acceptable",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/406",color:"var(--scalar-color-red)"},407:{name:"Proxy Authentication Required",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/407",color:"var(--scalar-color-red)"},408:{name:"Request Timeout",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/408",color:"var(--scalar-color-red)"},409:{name:"Conflict",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/409",color:"var(--scalar-color-red)"},410:{name:"Gone",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/410",color:"var(--scalar-color-red)"},411:{name:"Length Required",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/411",color:"var(--scalar-color-red)"},412:{name:"Precondition Failed",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/412",color:"var(--scalar-color-red)"},413:{name:"Content Too Large",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/413",color:"var(--scalar-color-red)"},414:{name:"URI Too Long",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/414",color:"var(--scalar-color-red)"},415:{name:"Unsupported Media Type",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/415",color:"var(--scalar-color-red)"},416:{name:"Range Not Satisfiable",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/416",color:"var(--scalar-color-red)"},417:{name:"Expectation Failed",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/417",color:"var(--scalar-color-red)"},418:{name:"I'm a teapot",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/418",color:"var(--scalar-color-red)"},421:{name:"Misdirected Request",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/421",color:"var(--scalar-color-red)"},422:{name:"Unprocessable Content",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/422",color:"var(--scalar-color-red)"},423:{name:"Locked",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/423",color:"var(--scalar-color-red)"},424:{name:"Failed Dependency",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/424",color:"var(--scalar-color-red)"},425:{name:"Too Early",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/425",color:"var(--scalar-color-red)"},426:{name:"Upgrade Required",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/426",color:"var(--scalar-color-red)"},428:{name:"Precondition Required",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/428",color:"var(--scalar-color-red)"},429:{name:"Too Many Requests",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429",color:"var(--scalar-color-red)"},431:{name:"Request Header Fields Too Large",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/431",color:"var(--scalar-color-red)"},451:{name:"Unavailable For Legal Reasons",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/451",color:"var(--scalar-color-red)"},500:{name:"Internal Server Error",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/500",color:"var(--scalar-color-red)"},501:{name:"Not Implemented",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/501",color:"var(--scalar-color-red)"},502:{name:"Bad Gateway",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/502",color:"var(--scalar-color-red)"},503:{name:"Service Unavailable",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/503",color:"var(--scalar-color-red)"},504:{name:"Gateway Timeout",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/504",color:"var(--scalar-color-red)"},505:{name:"HTTP Version Not Supported",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/505",color:"var(--scalar-color-red)"},506:{name:"Variant Also Negotiates",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/506",color:"var(--scalar-color-red)"},507:{name:"Insufficient Storage",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/507",color:"var(--scalar-color-red)"},508:{name:"Loop Detected",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/508",color:"var(--scalar-color-red)"},510:{name:"Not Extended",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/510",color:"var(--scalar-color-red)"},511:{name:"Network Authentication Required",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/511",color:"var(--scalar-color-red)"}};let ba=Symbol("LabelContext");function ga(){let e=aa(ba,null);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,ga),t}return e}function ya({slot:e={},name:t="Label",props:a={}}={}){let o=L([]);function l(u){return o.value.push(u),()=>{let c=o.value.indexOf(u);c!==-1&&o.value.splice(c,1)}}return ta(ba,{register:l,slot:e,name:t,props:a}),z(()=>o.value.length>0?o.value.join(" "):void 0)}let Nl=G({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{slots:t,attrs:a}){var o;let l=(o=e.id)!=null?o:`headlessui-label-${St()}`,u=ga();return be(()=>ea(u.register(l))),()=>{let{name:c="Label",slot:n={},props:r={}}=u,{passive:d,...i}=e,p={...Object.entries(r).reduce((v,[f,w])=>Object.assign(v,{[f]:s(w)}),{}),id:l};return d&&(delete p.onClick,delete p.htmlFor,delete i.onClick),Tt({ourProps:p,theirProps:i,slot:n,attrs:a,slots:t,name:c})}}});function jl(e,t){return e===t}let xa=Symbol("RadioGroupContext");function wa(e){let t=aa(xa,null);if(t===null){let a=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,wa),a}return t}let Fl=G({name:"RadioGroup",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"div"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>jl},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{emit:t,attrs:a,slots:o,expose:l}){var u;let c=(u=e.id)!=null?u:`headlessui-radiogroup-${St()}`,n=L(null),r=L([]),d=ya({name:"RadioGroupLabel"}),i=la({name:"RadioGroupDescription"});l({el:n,$el:n});let[p,v]=_a(z(()=>e.modelValue),S=>t("update:modelValue",S),z(()=>e.defaultValue)),f={options:r,value:p,disabled:z(()=>e.disabled),firstOption:z(()=>r.value.find(S=>!S.propsRef.disabled)),containsCheckedOption:z(()=>r.value.some(S=>f.compare(Ue(S.propsRef.value),Ue(e.modelValue)))),compare(S,U){if(typeof e.by=="string"){let T=e.by;return(S==null?void 0:S[T])===(U==null?void 0:U[T])}return e.by(S,U)},change(S){var U;if(e.disabled||f.compare(Ue(p.value),Ue(S)))return!1;let T=(U=r.value.find(y=>f.compare(Ue(y.propsRef.value),Ue(S))))==null?void 0:U.propsRef;return T!=null&&T.disabled?!1:(v(S),!0)},registerOption(S){r.value.push(S),r.value=qa(r.value,U=>U.element)},unregisterOption(S){let U=r.value.findIndex(T=>T.id===S);U!==-1&&r.value.splice(U,1)}};ta(xa,f),za({container:z(()=>tt(n)),accept(S){return S.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:S.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(S){S.setAttribute("role","none")}});function w(S){if(!n.value||!n.value.contains(S.target))return;let U=r.value.filter(T=>T.propsRef.disabled===!1).map(T=>T.element);switch(S.key){case ze.Enter:Da(S.currentTarget);break;case ze.ArrowLeft:case ze.ArrowUp:if(S.preventDefault(),S.stopPropagation(),_t(U,Xe.Previous|Xe.WrapAround)===zt.Success){let T=r.value.find(y=>{var H;return y.element===((H=ut(n))==null?void 0:H.activeElement)});T&&f.change(T.propsRef.value)}break;case ze.ArrowRight:case ze.ArrowDown:if(S.preventDefault(),S.stopPropagation(),_t(U,Xe.Next|Xe.WrapAround)===zt.Success){let T=r.value.find(y=>{var H;return y.element===((H=ut(y.element))==null?void 0:H.activeElement)});T&&f.change(T.propsRef.value)}break;case ze.Space:{S.preventDefault(),S.stopPropagation();let T=r.value.find(y=>{var H;return y.element===((H=ut(y.element))==null?void 0:H.activeElement)});T&&f.change(T.propsRef.value)}break}}let B=z(()=>{var S;return(S=tt(n))==null?void 0:S.closest("form")});return be(()=>{ue([B],()=>{if(!B.value||e.defaultValue===void 0)return;function S(){f.change(e.defaultValue)}return B.value.addEventListener("reset",S),()=>{var U;(U=B.value)==null||U.removeEventListener("reset",S)}},{immediate:!0})}),()=>{let{disabled:S,name:U,form:T,...y}=e,H={ref:n,id:c,role:"radiogroup","aria-labelledby":d.value,"aria-describedby":i.value,onKeydown:w};return Rt(ee,[...U!=null&&p.value!=null?Wa({[U]:p.value}).map(([R,W])=>Rt(Ea,Ba({features:Va.Hidden,key:R,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:T,disabled:S,name:R,value:W}))):[],Tt({ourProps:H,theirProps:{...a,...Aa(y,["modelValue","defaultValue","by"])},slot:{},attrs:a,slots:o,name:"RadioGroup"})])}}});var Ll=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(Ll||{});let Gl=G({name:"RadioGroupOption",props:{as:{type:[Object,String],default:"div"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:o}){var l;let u=(l=e.id)!=null?l:`headlessui-radiogroup-option-${St()}`,c=wa("RadioGroupOption"),n=ya({name:"RadioGroupLabel"}),r=la({name:"RadioGroupDescription"}),d=L(null),i=z(()=>({value:e.value,disabled:e.disabled})),p=L(1);o({el:d,$el:d});let v=z(()=>tt(d));be(()=>c.registerOption({id:u,element:v,propsRef:i})),ea(()=>c.unregisterOption(u));let f=z(()=>{var H;return((H=c.firstOption.value)==null?void 0:H.id)===u}),w=z(()=>c.disabled.value||e.disabled),B=z(()=>c.compare(Ue(c.value.value),Ue(e.value))),S=z(()=>w.value?-1:B.value||!c.containsCheckedOption.value&&f.value?0:-1);function U(){var H;c.change(e.value)&&(p.value|=2,(H=tt(d))==null||H.focus())}function T(){p.value|=2}function y(){p.value&=-3}return()=>{let{value:H,disabled:R,...W}=e,x={checked:B.value,disabled:w.value,active:!!(p.value&2)},k={id:u,ref:d,role:"radio","aria-checked":B.value?"true":"false","aria-labelledby":n.value,"aria-describedby":r.value,"aria-disabled":w.value?!0:void 0,tabIndex:S.value,onClick:w.value?void 0:U,onFocus:w.value?void 0:T,onBlur:w.value?void 0:y};return Tt({ourProps:k,theirProps:W,slot:x,attrs:t,slots:a,name:"RadioGroupOption"})}}}),Ot=Nl;function Nt({multiple:e,accept:t,onChange:a,onError:o}={}){const l=L(null);let u;typeof document<"u"&&(u=document.createElement("input"),u.type="file",u.onchange=n=>{const r=n.target;l.value=r.files,a==null||a(l.value)},u.onerror=()=>o==null?void 0:o(),u.multiple=e,u.accept=t);const c=()=>{if(!u)return o==null?void 0:o();u.click()};return{files:Ma(l),open:c}}const Kl=e=>{try{return decodeURIComponent(e)}catch{return e}};function Yl(e){let t="";if(e){const a=e.match(/filename\s*=\s*"?([^";]+)"?/);typeof(a==null?void 0:a[1])=="string"&&(t=Kl(a[1].trim()))}return t}function Sa(e){const t=u=>u instanceof Blob,a=z(()=>{var u;const c=((u=e.headers.find(n=>n.name.toLowerCase()==="content-type"))==null?void 0:u.value)??"";return new oa(c)}),o=z(()=>{var u;const c=((u=e.headers.find(n=>n.name.toLowerCase()==="content-disposition"))==null?void 0:u.value)??"";return Yl(c)}),l=z(()=>t(e.data)?URL.createObjectURL(e.data):typeof e.data=="string"?URL.createObjectURL(new Blob([e.data],{type:a.value.toString()})):e.data instanceof Object&&Object.keys(e.data).length?URL.createObjectURL(new Blob([JSON.stringify(e.data)],{type:a.value.toString()})):"");return{mimeType:a,attachmentFilename:o,dataUrl:l}}const Zl=G({__name:"ScalarCombobox",props:{options:{},modelValue:{},placeholder:{},placement:{},offset:{},resize:{type:Boolean},target:{},middleware:{},teleport:{type:[Boolean,String]}},emits:["update:modelValue"],setup(e){return(t,a)=>(m(),$(Oa,{middleware:t.middleware,offset:t.offset,placement:t.placement??"bottom-start",resize:t.resize,target:t.target,teleport:t.teleport},{default:b(({open:o})=>[he(t.$slots,"default",{open:o})]),popover:b(({open:o,close:l})=>[g(Ia,{modelValue:t.modelValue?[t.modelValue]:[],open:o,options:t.options,placeholder:t.placeholder,"onUpdate:modelValue":u=>(l(),t.$emit("update:modelValue",u[0]))},Le({_:2},[t.$slots.before?{name:"before",fn:b(()=>[he(t.$slots,"before",{open:o})]),key:"0"}:void 0,t.$slots.after?{name:"after",fn:b(()=>[he(t.$slots,"after",{open:o})]),key:"1"}:void 0]),1032,["modelValue","open","options","placeholder","onUpdate:modelValue"])]),_:3},8,["middleware","offset","placement","resize","target","teleport"]))}}),Xl=G({__name:"ScalarVirtualText",props:{text:{},lineHeight:{default:20},containerClass:{default:""},contentClass:{default:""},lineClass:{default:""}},setup(e){const t=e,a=L(null),o=L(null),l=L(0),u=L(0),c=z(()=>t.text.split(`
`)),n=z(()=>c.value.length*t.lineHeight),r=z(()=>Math.floor(l.value/t.lineHeight)),d=z(()=>Math.min(Math.ceil((l.value+u.value)/t.lineHeight),c.value.length)),i=z(()=>{const w=Math.max(0,r.value-10),B=Math.min(c.value.length,d.value+10);return c.value.slice(w,B)}),p=z(()=>({height:`${n.value}px`,transform:`translateY(${Math.max(0,r.value-10)*t.lineHeight}px)`})),v=()=>a.value&&(l.value=a.value.scrollTop),f=()=>a.value&&(u.value=a.value.clientHeight);return be(()=>{f(),window.addEventListener("resize",f)}),Ge(()=>{window.removeEventListener("resize",f)}),Na(()=>{o.value&&(o.value.style.transform=`translateY(${Math.max(0,r.value-10)*t.lineHeight}px)`)}),(w,B)=>(m(),_("div",{ref_key:"containerRef",ref:a,class:K(["scalar-virtual-text overflow-auto",w.containerClass]),onScroll:v},[h("code",{ref_key:"contentRef",ref:o,class:K(["scalar-virtual-text-content",w.contentClass]),style:Ve(p.value)},[(m(!0),_(ee,null,me(i.value,(S,U)=>(m(),_("div",{key:r.value+U,class:K(["scalar-virtual-text-line",w.lineClass]),style:Ve({height:`${t.lineHeight}px`,lineHeight:`${t.lineHeight}px`})},O(S),7))),128))],6)],34))}}),Ql={key:0,class:"text-c-3 px-4 text-sm min-h-16 justify-center flex items-center"},Jl=G({__name:"CodeSnippet",props:{target:{},client:{},operation:{},server:{},example:{},securitySchemes:{default:()=>[]}},setup(e){const t=z(()=>e.securitySchemes.flatMap(l=>l.type==="apiKey"?l.value:(l==null?void 0:l.type)==="http"?[l.token,l.password,btoa(`${l.username}:${l.password}`)]:l.type==="oauth2"?Object.values(l.flows).map(u=>u==null?void 0:u.token).filter(Ae):[])),a=z(()=>{const[l,u]=ja(e.target,e.client,{operation:e.operation,example:e.example,server:e.server,securitySchemes:e.securitySchemes});return{error:l,payload:u}}),o=z(()=>e.target==="shell"&&e.client==="curl"?"curl":e.target??"plaintext");return(l,u)=>a.value.error?(m(),_("div",Ql,O(a.value.error.message),1)):a.value.payload?(m(),$(s(Fa),{key:1,class:"w-full",content:a.value.payload,hideCredentials:t.value,lang:o.value,lineNumbers:""},null,8,["content","hideCredentials","lang"])):A("",!0)}}),eo={class:"hidden lg:flex ml-auto filter-hover context-bar-group lg:w-[120px]"},to={class:"request-section-content request-section-content-filter fade-request-section-content text-c-3 hidden xl:flex justify-end rounded text-xs gap-[1.5px] pointer-events-auto relative w-full py-2"},ao=["name","value"],lo={class:"flex items-center context-bar-group-hover:text-c-1 absolute -right-[30px] top-1/2 -translate-y-1/2"},oo={class:"mr-1.5 context-bar-group-hover:hidden"},ro=G({__name:"ContextBar",props:{sections:{},activeSection:{}},emits:["setActiveSection"],setup(e,{emit:t}){const a=e,o=t,l=kt(),u=z({get:()=>a.activeSection,set:c=>o("setActiveSection",c)});return(c,n)=>(m(),_("fieldset",eo,[n[1]||(n[1]=h("legend",{class:"sr-only"},"Filter Sections",-1)),h("div",to,[(m(!0),_(ee,null,me(c.sections,r=>(m(),_("label",{key:r,class:K(["filter-hover-item flex items-center hover:bg-b-2 rounded p-1 px-2 cursor-pointer text-center font-medium w-fit whitespace-nowrap has-[:focus-visible]:outline",[u.value===r?"text-c-1  pointer-events-none":""]])},[Y(O(r)+" ",1),xe(h("input",{"onUpdate:modelValue":n[0]||(n[0]=d=>u.value=d),class:"sr-only",name:s(l),type:"radio",value:r},null,8,ao),[[La,u.value]])],2))),128)),h("div",lo,[h("span",oo,O(u.value),1),g(s(X),{icon:"FilterList",size:"md",thickness:"2"})])])]))}}),Ta=ne(ro,[["__scopeId","data-v-7906217f"]]),no="/";function so({example:e,env:t,globalCookies:a,serverUrl:o,proxyUrl:l}){const u=[],c=Je(l,o),n=io(c?l:o??"http://localhost");return a.forEach(r=>{const{name:d,value:i,domain:p,...v}=r;!ka(o,p)||!d||u.push(Wt.parse({name:d,value:i,domain:p,path:v.path}))}),e.parameters.cookies.forEach(r=>{!r.enabled||!r.key||u.push(Wt.parse({name:r.key,value:fe(r.value,t),domain:n,path:no}))}),{cookieParams:u}}const io=e=>{const t=new URL(e.startsWith("http")?e:`http://${e}`).hostname;return t.match(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/)||t.match(/^[a-fA-F0-9:]+$/)||t.startsWith(".")?t:`.${t}`},ka=(e,t)=>{if(!e||!t)return!0;try{const a=e.startsWith("http")?e:`http://${e}`,o=new URL(a).hostname,l=!t,u=t===o,c=t.startsWith(".")&&t===`.${o}`,n=t.startsWith(".")&&(o==null?void 0:o.endsWith(t));return l||u||n||c}catch{return!1}},uo=(e,t)=>{const a=e.map(o=>`${o.name}=${o.value}`).join("; ");return t?`${t}; ${a}`.trim():a.trim()},co=G({__name:"DataTableHeader",setup(e){const{cx:t}=Ga();return(a,o)=>(m(),$(Me,Ka({is:"th"},s(t)("truncate font-medium px-2 py-1.5")),{default:b(()=>[he(a.$slots,"default")]),_:3},16))}}),jt=e=>!!(e.description||e.type||e.default||e.format||e.minimum||e.maximum),We=e=>z(()=>{if(e.value===void 0||e.value==="")return!1;if(e.type){if(e.type==="integer"){const t=Number(e.value);if(isNaN(t)||!Number.isInteger(t))return"Value must be a whole number (e.g., 42)";if(e.minimum!==void 0&&t<e.minimum)return`Value must be ${e.minimum} or greater`;if(e.maximum!==void 0&&t>e.maximum)return`Value must be ${e.maximum} or less`}if(e.type==="number"){const t=Number(e.value);if(isNaN(t))return"Value must be a number (e.g., 42.5)";if(e.minimum!==void 0&&t<e.minimum)return`Value must be ${e.minimum} or greater`;if(e.maximum!==void 0&&t>e.maximum)return`Value must be ${e.maximum} or less`}if(e.type==="string"&&e.format){if(e.format==="date"&&!/^\d{4}-\d{2}-\d{2}$/.test(e.value))return"Please enter a valid date in YYYY-MM-DD format (e.g., 2024-03-20)";if(e.format==="date-time"&&!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[+-]\d{2}:\d{2})$/.test(e.value))return"Please enter a valid date and time in RFC 3339 format (e.g., 2024-03-20T13:45:30Z)";if(e.format==="email"&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.value))return"Please enter a valid email address (e.g., user@example.com)";if(e.format==="uri"&&!/^[a-zA-Z][a-zA-Z0-9+.-]*:.+$/.test(e.value))return"Please enter a valid URI (e.g., https://example.com)"}}return!1}),po={class:"bg-b-1 mr-0.25 pl-1 pr-1.5 group-[.alert]:bg-transparent"},mo={class:"w-content bg-b-1 text-xxs text-c-1 pointer-events-none grid min-w-48 gap-1.5 rounded p-2 leading-5 shadow-lg"},vo={key:0,class:"text-error-1"},fo={key:1,class:"schema text-c-2 flex items-center"},ho={key:0},bo={key:1},go={key:2},yo={key:3},xo={key:4},wo={key:2,class:"text-pretty text-sm leading-snug",style:{maxWidth:"16rem"}},So=G({__name:"RequestTableTooltip",props:{item:{}},setup(e){return(t,a)=>(m(),$(s(Ke),{align:"start",class:"w-full pr-px",delay:0,side:"left",triggerClass:"before:absolute before:content-[''] before:bg-gradient-to-r before:from-transparent before:to-b-1 group-[.alert]:before:to-b-alert before:min-h-[calc(100%-4px)] before:pointer-events-none before:right-[23px] before:top-0.5 before:w-3 absolute h-full right-0 -outline-offset-1"},{trigger:b(()=>[h("div",po,[g(s(X),{class:K(s(We)(t.item).value?"text-orange brightness-[.9]":"text-c-3 group-hover/info:text-c-1"),icon:s(We)(t.item).value?"Alert":"Info",size:"sm",thickness:"1.5"},null,8,["class","icon"])])]),content:b(()=>[h("div",mo,[s(We)(t.item).value?(m(),_("div",vo,O(s(We)(t.item).value),1)):(m(),_("div",fo,[t.item.type?(m(),_("span",ho,O(t.item.type),1)):A("",!0),t.item.format?(m(),_("span",bo,O(t.item.format),1)):A("",!0),t.item.minimum?(m(),_("span",go,"min: "+O(t.item.minimum),1)):A("",!0),t.item.maximum?(m(),_("span",yo,"max: "+O(t.item.maximum),1)):A("",!0),t.item.default?(m(),_("span",xo,"default: "+O(t.item.default),1)):A("",!0)])),t.item.description&&!s(We)(t.item).value?(m(),_("span",wo,O(t.item.description),1)):A("",!0)])]),_:1}))}}),To=ne(So,[["__scopeId","data-v-30c955c6"]]),ko={class:"contents"},Ho={class:"sr-only"},Uo={class:"text-c-2 filemask flex max-w-[100%] items-end justify-end overflow-hidden"},Co=["onClick"],$o=G({__name:"RequestTable",props:{items:{},hasCheckboxDisabled:{type:Boolean,default:!1},showUploadButton:{type:Boolean,default:!1},isGlobal:{type:Boolean,default:!1},isReadOnly:{type:Boolean,default:!1},environment:{},envVariables:{},workspace:{}},emits:["updateRow","toggleRow","addRow","deleteRow","inputFocus","inputBlur","uploadFile","removeFile"],setup(e,{emit:t}){const a=e,o=t,l=["","","36px"],u=(r,d,i)=>{o("updateRow",r,d,i)},c=r=>{o("uploadFile",r)},n=r=>Array.isArray(r.default)&&r.default.length===1?r.default[0]:r.default;return(r,d)=>{const i=ra("RouterLink");return m(),$(Ye,{class:"group/table flex-1",columns:l},{default:b(()=>[(m(!0),_(ee,null,me(r.items,(p,v)=>(m(),$(Re,{key:v,class:K({alert:s(We)(p).value})},{default:b(()=>[h("label",ko,[r.isGlobal?(m(),$(i,{key:0,class:"!border-r-1/2 border-t-1/2 text-c-2 flex items-center justify-center",to:p.route??{}},{default:b(()=>[d[5]||(d[5]=h("span",{class:"sr-only"},"Global",-1)),g(s(Ke),{as:"div",side:"top"},{trigger:b(()=>[g(s(X),{class:"text-c-1",icon:"Globe",size:"xs"})]),content:b(()=>d[4]||(d[4]=[h("div",{class:"w-content bg-b-1 z-100 text-xxs text-c-1 pointer-events-none z-10 grid max-w-[320px] gap-1.5 rounded p-2 leading-5 shadow-lg"},[h("div",{class:"text-c-1 flex items-center"},[h("span",{class:"text-pretty"}," Global cookies are shared across the whole workspace. ")])],-1)])),_:1})]),_:2},1032,["to"])):(m(),_(ee,{key:1},[h("span",Ho," Row "+O(p.enabled?"Enabled":"Disabled"),1),g(Ya,{class:"!border-r-1/2",disabled:a.hasCheckboxDisabled,modelValue:p.enabled,"onUpdate:modelValue":f=>o("toggleRow",v,f)},null,8,["disabled","modelValue","onUpdate:modelValue"])],64))]),g(Me,null,{default:b(()=>[g(at,{disableCloseBrackets:"",disabled:a.isReadOnly,disableEnter:"",disableTabIndent:"",envVariables:r.envVariables,environment:r.environment,modelValue:p.key,placeholder:"Key",required:!!p.required,workspace:r.workspace,onBlur:d[0]||(d[0]=f=>o("inputBlur")),onFocus:d[1]||(d[1]=f=>o("inputFocus")),onSelectVariable:f=>u(v,"key",f),"onUpdate:modelValue":f=>o("updateRow",v,"key",f)},null,8,["disabled","envVariables","environment","modelValue","required","workspace","onSelectVariable","onUpdate:modelValue"])]),_:2},1024),g(Me,null,{default:b(()=>[g(at,{class:K({"pr-6":s(jt)(p)}),default:p.default,disableCloseBrackets:"",disabled:a.isReadOnly,disableEnter:"",disableTabIndent:"",enum:p.enum??[],envVariables:r.envVariables,environment:r.environment,examples:p.examples??[],max:p.maximum,min:p.minimum,modelValue:p.value,nullable:!!p.nullable,placeholder:"Value",type:p.type,workspace:r.workspace,onBlur:d[2]||(d[2]=f=>o("inputBlur")),onFocus:d[3]||(d[3]=f=>o("inputFocus")),onSelectVariable:f=>u(v,"value",f),"onUpdate:modelValue":f=>o("updateRow",v,"value",f)},{icon:b(()=>[s(jt)(p)?(m(),$(To,{key:0,item:{...p,default:n(p)}},null,8,["item"])):A("",!0)]),_:2},1032,["class","default","disabled","enum","envVariables","environment","examples","max","min","modelValue","nullable","type","workspace","onSelectVariable","onUpdate:modelValue"])]),_:2},1024),r.showUploadButton?(m(),$(Me,{key:0,class:"group/upload relative overflow-hidden text-ellipsis whitespace-nowrap p-1"},{default:b(()=>{var f;return[p.file?(m(),_(ee,{key:0},[h("div",Uo,[h("span",null,O((f=p.file)==null?void 0:f.name),1)]),h("button",{class:"bg-b-2 centered-x centered-y absolute hidden w-[calc(100%_-_8px)] rounded p-0.5 text-center text-xs font-medium group-hover/upload:block",type:"button",onClick:w=>o("removeFile",v)}," Delete ",8,Co)],64)):(m(),$(s(se),{key:1,class:"bg-b-2 hover:bg-b-3 text-c-2 border-0 py-px shadow-none",size:"sm",variant:"outlined",onClick:w=>c(v)},{default:b(()=>[d[6]||(d[6]=h("span",null,"File",-1)),g(s(X),{class:"ml-1",icon:"UploadSimple",size:"xs",thickness:"2.5"})]),_:2},1032,["onClick"]))]}),_:2},1024)):A("",!0)]),_:2},1032,["class"]))),128))]),_:1})}}}),Fe=ne($o,[["__scopeId","data-v-ccef6266"]]),Po={key:0,class:"border-t-1/2 text-c-3 flex min-h-10 w-full items-center justify-center p-2 text-sm"},Ro={key:1,class:"border-t flex items-center justify-center p-1.5 overflow-hidden"},_o={class:"text-c-2 text-xs w-full border rounded py-1 px-1.5 max-w-full overflow-hidden whitespace-nowrap"},zo=G({__name:"RequestBody",props:{example:{},operation:{},environment:{},envVariables:{},workspace:{},title:{}},setup(e){const{requestExampleMutators:t}=ie(),a={json:"json",xml:"xml",yaml:"yaml",edn:"edn",other:"html"},o=Object.entries({multipartForm:"Multipart Form",formUrlEncoded:"Form URL Encoded",binaryFile:"Binary File",json:"JSON",xml:"XML",yaml:"YAML",edn:"EDN",other:"Other",none:"None"}).map(([x,k])=>({id:x,label:k})),l=z(()=>{var x;const{activeBody:k,formData:P,raw:D}=e.example.body;return k==="formData"?(P==null?void 0:P.encoding)==="urlencoded"?"formUrlEncoded":"multipartForm":k==="binary"?"binaryFile":k==="raw"&&D!=null&&D.encoding?D.encoding==="html"?"other":D.encoding:Object.keys(((x=e.operation.requestBody)==null?void 0:x.content)||{})[0]||"none"}),u=z({get:()=>o.find(x=>x.id===l.value)??o[o.length-1]??o[0],set:x=>{x!=null&&x.id&&S(x.id)}}),c=L(null),n=z(()=>{var x;const k=(x=u.value)==null?void 0:x.id;return a[k]??"plaintext"});function r(){console.log("deleteRow")}const d=(x,k,P)=>{var D,j,I,M,F,re,Z;const ce=i.value;if(ce.length>x){const C=[...ce];C[x]={...C[x],value:((D=C[x])==null?void 0:D.value)||"",key:((j=C[x])==null?void 0:j.key)||"",enabled:((I=C[x])==null?void 0:I.enabled)??!1,[k]:P||""},(((M=C[x])==null?void 0:M.key)!==""||((F=C[x])==null?void 0:F.value)!=="")&&(C[x].enabled=!0),((re=C[x])==null?void 0:re.key)===""&&((Z=C[x])==null?void 0:Z.value)===""&&C.splice(x,1),t.edit(e.example.uid,"body.formData.value",C)}else{const C=[ot.parse({[k]:P})];t.edit(e.example.uid,"body.formData.value",C),je(()=>{var E;c.value&&((E=c.value.querySelectorAll("input")[k==="key"?0:1])==null||E.focus())})}x===ce.length-1&&v()},i=z(()=>{var x;return((x=e.example.body.formData)==null?void 0:x.value)??[]}),p=()=>{const x=i.value[i.value.length-1];(!x||x.key!==""||x.value!=="")&&v()},v=()=>{const x=ot.parse({enabled:!1}),k=[...i.value,x];e.example.body.formData?t.edit(e.example.uid,"body.formData.value",k):t.edit(e.example.uid,"body.formData",{value:k,encoding:"form-data"})},f=(x,k)=>{const P=i.value;if(P.length>x){const D=[...P];D[x]&&(D[x].enabled=k),t.edit(e.example.uid,"body.formData.value",D)}},w=x=>t.edit(e.example.uid,"body.raw.value",x),B=x=>x==="multipartForm"?{activeBody:"formData",encoding:"form-data",header:"multipart/form-data"}:x==="formUrlEncoded"?{activeBody:"formData",encoding:"urlencoded",header:"application/x-www-form-urlencoded"}:x==="binaryFile"?{activeBody:"binary",encoding:void 0,header:"application/octet-stream"}:x==="json"?{activeBody:"raw",encoding:"json",header:"application/json"}:x==="xml"?{activeBody:"raw",encoding:"xml",header:"application/xml"}:x==="yaml"?{activeBody:"raw",encoding:"yaml",header:"application/yaml"}:x==="edn"?{activeBody:"raw",encoding:"edn",header:"application/edn"}:x==="other"?{activeBody:"raw",encoding:"html",header:"application/html"}:{activeBody:"raw",encoding:void 0,header:void 0},S=x=>{var k,P;const{activeBody:D,encoding:j,header:I}=B(x);if(t.edit(e.example.uid,"body.activeBody",D),j&&D==="raw")t.edit(e.example.uid,"body.raw",{encoding:j,value:((k=e.example.body.raw)==null?void 0:k.value)??""});else if(j&&D==="formData")t.edit(e.example.uid,"body.formData",{encoding:j,value:((P=e.example.body.formData)==null?void 0:P.value)??[]});else if(!j&&D!=="binary"){const{raw:re,...Z}=e.example.body;t.edit(e.example.uid,"body",Z)}const M=[...e.example.parameters.headers],F=M.findIndex(re=>re.key.toLowerCase()==="content-type");if(F>=0)I&&M[F]?M[F].value=I:M[F]&&M.splice(F,1);else if(I){const re=M[M.length-1];re&&re.key===""&&re.value===""?M.splice(M.length-1,0,{key:"Content-Type",value:I,enabled:!0}):M.push({key:"Content-Type",value:I,enabled:!0})}t.edit(e.example.uid,"parameters.headers",M)},U=async x=>{const{open:k}=Nt({onChange:async P=>{var D,j;const I=P==null?void 0:P[0];if(I){const M=[...i.value];M[x]={...M[x],file:I,value:((D=M[x])==null?void 0:D.value)||I.name,key:((j=M[x])==null?void 0:j.key)||I.name,enabled:!0},t.edit(e.example.uid,"body.formData.value",M)}},multiple:!1,accept:"*/*"});k()},T=()=>t.edit(e.example.uid,"body.binary",void 0);function y(x){const k=[...i.value];k[x]={...k[x],file:void 0,value:"",key:"",enabled:!1},t.edit(e.example.uid,"body.formData.value",k)}function H(){const{open:x}=Nt({onChange:async k=>{const P=k==null?void 0:k[0];P&&t.edit(e.example.uid,"body.binary",P)},multiple:!1,accept:"*/*"});x()}ue(u,x=>{["multipartForm","formUrlEncoded"].includes((x==null?void 0:x.id)||"")&&p()},{immediate:!0}),ue(()=>e.example.uid,()=>{e.operation.method&&Ie(e.operation.method)&&S(l.value),["multipartForm","formUrlEncoded"].includes(l.value)&&p()},{immediate:!0});const R=z(()=>{var x,k,P;const D=(x=u.value)==null?void 0:x.id,{header:j}=B(D),I=((k=e.operation.requestBody)==null?void 0:k.content)||{},M=j?((P=I[j])==null?void 0:P.examples)||{}:{};return Object.entries(M).map(([F,re])=>({id:F,label:F,value:re}))}),W=z({get:()=>{var x;const k=((x=e.example.body.raw)==null?void 0:x.value)??"{}",P=JSON.parse(k);return R.value.find(D=>{const j=D.value;return JSON.stringify(j.value)===JSON.stringify(P)})??R.value[0]},set:x=>{if(x!=null&&x.id){const k=R.value.find(P=>P.id===x.id);if(k){const P=k.value;w(JSON.stringify(P.value,null,2))}}}});return(x,k)=>(m(),$(Pe,null,{title:b(()=>[Y(O(x.title),1)]),default:b(()=>[g(Ye,{columns:[""]},{default:b(()=>[g(Re,null,{default:b(()=>[g(co,{class:"relative col-span-full flex h-8 cursor-pointer items-center justify-between !p-0"},{default:b(()=>[g(s(lt),{modelValue:u.value,"onUpdate:modelValue":k[0]||(k[0]=P=>u.value=P),options:s(o),teleport:""},{default:b(()=>[g(s(se),{class:"flex gap-1.5 h-full px-3 text-c-2 font-normal hover:text-c-1 w-fit",fullWidth:"",variant:"ghost"},{default:b(()=>{var P;return[h("span",null,O((P=u.value)==null?void 0:P.label),1),g(s(X),{icon:"ChevronDown",size:"md"})]}),_:1})]),_:1},8,["modelValue","options"]),R.value.length>0?(m(),$(s(lt),{key:0,modelValue:W.value,"onUpdate:modelValue":k[1]||(k[1]=P=>W.value=P),options:R.value,side:"left",teleport:""},{default:b(()=>[g(s(se),{class:"flex gap-1.5 h-full px-2 text-c-2 font-normal hover:text-c-1 w-fit",fullWidth:"",variant:"ghost"},{default:b(()=>{var P;return[h("span",null,O((P=W.value)==null?void 0:P.label),1),g(s(X),{icon:"ChevronDown",size:"md"})]}),_:1})]),_:1},8,["modelValue","options"])):A("",!0)]),_:1})]),_:1}),g(Re,null,{default:b(()=>{var P,D,j,I,M,F;return[((P=u.value)==null?void 0:P.id)==="none"?(m(),_("div",Po,k[2]||(k[2]=[h("span",null,"No Body",-1)]))):((D=u.value)==null?void 0:D.id)==="binaryFile"?(m(),_("div",Ro,[x.example.body.binary?(m(),_(ee,{key:0},[h("span",_o,O(x.example.body.binary.name),1),g(s(se),{class:"bg-b-2 hover:bg-b-3 border-0 text-c-2 ml-1 shadow-none",size:"sm",variant:"outlined",onClick:T},{default:b(()=>k[3]||(k[3]=[Y(" Delete ")])),_:1})],64)):(m(),$(s(se),{key:1,class:"bg-b-2 hover:bg-b-3 border-0 text-c-2 shadow-none",size:"sm",variant:"outlined",onClick:H},{default:b(()=>[k[4]||(k[4]=h("span",null,"Upload File",-1)),g(s(X),{class:"ml-1",icon:"UploadSimple",size:"xs",thickness:"2.5"})]),_:1}))])):((j=u.value)==null?void 0:j.id)=="multipartForm"?(m(),$(Fe,{key:2,ref_key:"tableWrapperRef",ref:c,class:"!m-0 rounded-t-none shadow-none border-l-0 border-r-0 border-t-0 border-b-0",columns:["32px","","","61px"],envVariables:x.envVariables,environment:x.environment,items:i.value,showUploadButton:"",workspace:x.workspace,onDeleteRow:r,onRemoveFile:y,onToggleRow:f,onUpdateRow:d,onUploadFile:U},null,8,["envVariables","environment","items","workspace"])):((I=u.value)==null?void 0:I.id)=="formUrlEncoded"?(m(),$(Fe,{key:3,ref_key:"tableWrapperRef",ref:c,class:"!m-0 rounded-t-none shadow-none border-l-0 border-r-0 border-t-0 border-b-0",columns:["32px","","","61px"],envVariables:x.envVariables,environment:x.environment,items:i.value,showUploadButton:"",workspace:x.workspace,onDeleteRow:r,onRemoveFile:y,onToggleRow:f,onUpdateRow:d,onUploadFile:U},null,8,["envVariables","environment","items","workspace"])):(m(),$(at,{key:4,class:"border-t-1/2 px-1",content:"",envVariables:x.envVariables,environment:x.environment,language:n.value,lineNumbers:"",lint:"",modelValue:((F=(M=x.example.body)==null?void 0:M.raw)==null?void 0:F.value)??"",workspace:x.workspace,"onUpdate:modelValue":w},null,8,["envVariables","environment","language","modelValue","workspace"]))]}),_:1}),g(Re)]),_:1})]),_:1}))}}),Wo=ne(zo,[["__scopeId","data-v-3f1cd888"]]),Eo={class:"text-c-2 flex whitespace-nowrap opacity-0 group-hover/params:opacity-100 has-[:focus-visible]:opacity-100 request-meta-buttons"},Bo={class:"sr-only"},mt=G({__name:"RequestParams",props:{example:{},environment:{},envVariables:{},workspace:{},title:{},paramKey:{},readOnlyEntries:{default:()=>[]}},setup(e){const{requestExampleMutators:t}=ie(),a=z(()=>e.example.parameters[e.paramKey]??[]);be(()=>r());const o=()=>{const v=ot.parse({enabled:!1}),f=[...a.value,v];t.edit(e.example.uid,`parameters.${e.paramKey}`,f)},l=L(null),u=(v,f,w)=>{const B=a.value;if(B.length>v){const S=[...B];if(!S[v])return;S[v]={...S[v],[f]:w},(S[v].key!==""||S[v].value!=="")&&(S[v].enabled=!0),S[v].key===""&&S[v].value===""&&S.splice(v,1),t.edit(e.example.uid,`parameters.${e.paramKey}`,S)}else{const S=[ot.parse({[f]:w})];t.edit(e.example.uid,`parameters.${e.paramKey}`,S),je(()=>{var U;l.value&&((U=l.value.querySelectorAll("input")[f==="key"?0:1])==null||U.focus())})}v===B.length-1&&o()},c=(v,f)=>t.edit(e.example.uid,`parameters.${e.paramKey}.${v}.enabled`,f),n=()=>{const v=a.value.filter(f=>f.required);t.edit(e.example.uid,`parameters.${e.paramKey}`,v),je(()=>o())};function r(){if(a.value.length===0)o();else if(a.value.length>=1){const v=a.value[a.value.length-1];v&&v.key!==""&&v.value!==""&&o()}}const d=z(()=>a.value.filter(v=>v.key||v.value).length),i=z(()=>a.value.length>1);ue(()=>e.example,(v,f)=>{v!==f&&r()},{immediate:!0});const p=z(()=>(e.readOnlyEntries??[]).length>0);return(v,f)=>(m(),$(Pe,{class:"group/params",itemCount:d.value},{title:b(()=>[Y(O(v.title),1)]),actions:b(()=>[h("div",Eo,[i.value?(m(),$(s(Ke),{key:0,side:"right",sideOffset:12},{trigger:b(()=>[g(s(se),{class:"px-1 transition-none",size:"sm",variant:"ghost",onClick:oe(n,["stop"])},{default:b(()=>[f[0]||(f[0]=Y(" Clear ")),h("span",Bo,"All "+O(v.title),1)]),_:1})]),content:b(()=>f[1]||(f[1]=[h("div",{class:"grid gap-1.5 pointer-events-none min-w-48 w-content shadow-lg rounded bg-b-1 p-2 text-xxs leading-5 z-10 text-c-1"},[h("div",{class:"flex items-center text-c-2"},[h("span",null,"Clear optional parameters")])],-1)])),_:1})):A("",!0)])]),default:b(()=>[h("div",{ref_key:"tableWrapperRef",ref:l},[p.value?(m(),$(Fe,{key:0,class:K(["flex-1",{"bg-mix-transparent bg-mix-amount-95 bg-c-3":p.value}]),columns:["32px","",""],envVariables:v.envVariables,environment:v.environment,isGlobal:"",isReadOnly:"",items:v.readOnlyEntries,workspace:v.workspace},null,8,["class","envVariables","environment","items","workspace"])):A("",!0),g(Fe,{class:"flex-1",columns:["32px","",""],envVariables:v.envVariables,environment:v.environment,items:a.value,workspace:v.workspace,onToggleRow:c,onUpdateRow:u},null,8,["envVariables","environment","items","workspace"])],512)]),_:1},8,["itemCount"]))}}),Vo=G({__name:"RequestPathParams",props:{example:{},operation:{},paramKey:{},title:{},environment:{},envVariables:{},workspace:{}},setup(e){const{requestMutators:t,requestExampleMutators:a}=ie(),o=z(()=>e.example.parameters[e.paramKey].map(n=>({...n,enum:n.enum}))),l=(n,r,d)=>{var i,p;const v=e.example.parameters[e.paramKey],f=(i=v[n])==null?void 0:i.key;if(f){if(r==="key"){if((p=v[n])!=null&&p.required)return;if(d){const w=encodeURIComponent(f),B=encodeURIComponent(d),S=new RegExp(`(?<=/):${w}(?=[/?#]|$)`,"g"),U=e.operation.path.replace(S,`:${B}`);t.edit(e.operation.uid,"path",U)}else{v.splice(n,1);const w=new RegExp(`/:${encodeURIComponent(f)}(?=[/?#]|$)`,"g"),B=e.operation.path.replace(w,"");t.edit(e.operation.uid,"path",B)}}a.edit(e.example.uid,`parameters.${e.paramKey}.${n}.${r}`,d)}},u=n=>{var r;const d=((r=n.match(Za.PATH))==null?void 0:r.map(f=>f.slice(1,-1)))||[],i=e.example.parameters[e.paramKey],p=new Map(i.map(f=>[f.key,f])),v=d.map(f=>p.get(f)||{key:f,value:"",enabled:!0});i.forEach(f=>{!d.includes(f.key)&&(f.value||f.required)&&v.push(f)}),i.splice(0,i.length,...v),a.edit(e.example.uid,`parameters.${e.paramKey}`,i)},c=n=>{n&&u(n)};return ue(()=>e.operation.path,n=>{n&&c(n)}),(n,r)=>(m(),$(Pe,{itemCount:o.value.length},{title:b(()=>[Y(O(n.title),1)]),default:b(()=>[o.value.length?(m(),$(Fe,{key:0,class:"flex-1",columns:["32px","",""],envVariables:n.envVariables,environment:n.environment,items:o.value,workspace:n.workspace,onUpdateRow:l},null,8,["envVariables","environment","items","workspace"])):A("",!0)]),_:1},8,["itemCount"]))}}),Ao={class:"w-full"},qo={class:"flex flex-1 -mx-1"},Do={class:"bg-b-1 border-t flex items-center justify-center overflow-hidden"},Mo=G({__name:"RequestCodeExample",props:{collection:{},example:{},operation:{},server:{},workspace:{}},setup(e){const{securitySchemes:t,workspaceMutators:a}=ie(),o=z(()=>Xa(e.operation.security||e.collection.security||[],e.collection.selectedSecuritySchemeUids,t)),l=z(()=>{const d={};return{options:Qa().clients().map(i=>({label:i.title,options:i.clients.map(p=>(d[`${i.key},${p.client}`]=p.title,{id:`${i.key},${p.client}`,label:p.title}))})),dict:d}}),u=z(()=>{var d;const i=e.workspace.selectedHttpClient;if(!i)return((d=l.value.options[0])==null?void 0:d.options[0])??{id:"js,fetch",label:"Fetch"};const p=`${i.targetKey},${i.clientKey}`;return{id:p,label:l.value.dict[p]??"Unknown"}}),c=z(()=>{var d;return((d=e.workspace.selectedHttpClient)==null?void 0:d.targetKey)??"js"}),n=z(()=>{var d;return((d=e.workspace.selectedHttpClient)==null?void 0:d.clientKey)??"fetch"}),r=({id:d})=>{const[i,p]=d.split(",");!i||!p||a.edit(e.workspace.uid,"selectedHttpClient",{targetKey:i,clientKey:p})};return(d,i)=>(m(),_("div",Ao,[g(Pe,{class:"group/preview -mt-0.25 w-full border-b-0",defaultOpen:!1,hasIcon:!1},{title:b(()=>i[0]||(i[0]=[Y("Code Snippet")])),actions:b(()=>[h("div",qo,[g(s(Zl),{modelValue:u.value,options:l.value.options,placement:"bottom-end","onUpdate:modelValue":r},{default:b(()=>[g(s(se),{class:"flex gap-1.5 h-full px-1.5 py-0.75 font-normal text-c-1 w-fit hover:bg-b-3",fullWidth:"",variant:"ghost"},{default:b(()=>{var p;return[h("span",null,O((p=u.value)==null?void 0:p.label),1),g(s(X),{icon:"ChevronDown",size:"md"})]}),_:1})]),_:1},8,["modelValue","options"])])]),default:b(()=>[g(Ye,{columns:[""]},{default:b(()=>[g(Re,null,{default:b(()=>[h("div",Do,[g(s(Jl),{class:"px-3 py-1.5",client:n.value,example:d.example,operation:d.operation,securitySchemes:o.value,server:d.server,target:c.value},null,8,["client","example","operation","securitySchemes","server","target"])])]),_:1})]),_:1})]),_:1})]))}}),Io=ne(Mo,[["__scopeId","data-v-c2f2c62b"]]),Oo={class:"flex-1 flex gap-1 items-center lg:pr-24 pointer-events-none group"},No={key:0,class:"absolute w-full h-full top-0 left-0 pointer-events-auto opacity-0 cursor-text",for:"requestname"},jo=["value"],Fo={key:2,class:"flex items-center text-c-1 h-8"},Lo={class:"request-section-content custom-scroll flex flex-1 flex-col relative"},Go=G({__name:"RequestSection",props:{collection:{},environment:{},envVariables:{},example:{},operation:{},selectedSecuritySchemeUids:{},server:{},workspace:{}},setup(e){const{requestMutators:t,cookies:a,securitySchemes:o}=ie(),{layout:l}=we(),u=z(()=>{const i=new Set(["All","Query","Auth","Variables","Cookies","Headers","Body"]);return e.example.parameters.path.length||i.delete("Variables"),Ie(e.operation.method??"get")||i.delete("Body"),c.value&&i.delete("Auth"),[...i]}),c=z(()=>{var i;return l==="modal"&&((i=e.operation.security)==null?void 0:i.length)===0}),n=L("All");ue(()=>e.operation,i=>{n.value==="Body"&&i&&!Ie(i.method)&&(n.value="All")});const r=i=>{const p=i.target;t.edit(e.operation.uid,"summary",p.value)},d=z(()=>(e.workspace.cookies??[]).map(i=>a[i]).filter(Ae).filter(i=>i.name).filter(i=>{var p;return ka(((p=e.server)==null?void 0:p.url)||e.operation.path,i.domain)}).map(i=>({key:i.name,value:i.value,route:{name:"cookies",params:{cookies:i.uid}},enabled:!0})));return(i,p)=>(m(),$(fa,{"aria-label":`Request: ${i.operation.summary}`},{title:b(()=>[h("div",Oo,[s(l)!=="modal"?(m(),_("label",No)):A("",!0),s(l)!=="modal"?(m(),_("input",{key:1,id:"requestname",class:"text-c-1 rounded pointer-events-auto relative w-full pl-1.25 -ml-0.5 md:-ml-1.25 h-8 group-hover-input has-[:focus-visible]:outline z-10",placeholder:"Request Name",value:i.operation.summary,onInput:r},null,40,jo)):(m(),_("span",Fo,O(i.operation.summary),1))]),g(Ta,{activeSection:n.value,sections:u.value,onSetActiveSection:p[0]||(p[0]=v=>n.value=v)},null,8,["activeSection","sections"])]),default:b(()=>[h("div",Lo,[i.collection&&i.workspace&&(s(l)!=="modal"||Object.keys(s(o)??{}).length)?xe((m(),$(Ja,{key:0,collection:i.collection,envVariables:i.envVariables,environment:i.environment,layout:"client",operation:i.operation,selectedSecuritySchemeUids:i.selectedSecuritySchemeUids,server:i.server,title:"Authentication",workspace:i.workspace},null,8,["collection","envVariables","environment","operation","selectedSecuritySchemeUids","server","workspace"])),[[Ce,!c.value&&(n.value==="All"||n.value==="Auth")]]):A("",!0),xe(g(Vo,{envVariables:i.envVariables,environment:i.environment,example:i.example,operation:i.operation,paramKey:"path",title:"Variables",workspace:i.workspace},null,8,["envVariables","environment","example","operation","workspace"]),[[Ce,(n.value==="All"||n.value==="Variables")&&i.example.parameters.path.length]]),xe(g(mt,{envVariables:i.envVariables,environment:i.environment,example:i.example,operation:i.operation,paramKey:"cookies",readOnlyEntries:d.value,title:"Cookies",workspace:i.workspace,workspaceParamKey:"cookies"},null,8,["envVariables","environment","example","operation","readOnlyEntries","workspace"]),[[Ce,n.value==="All"||n.value==="Cookies"]]),xe(g(mt,{envVariables:i.envVariables,environment:i.environment,example:i.example,operation:i.operation,paramKey:"headers",title:"Headers",workspace:i.workspace},null,8,["envVariables","environment","example","operation","workspace"]),[[Ce,n.value==="All"||n.value==="Headers"]]),xe(g(mt,{envVariables:i.envVariables,environment:i.environment,example:i.example,operation:i.operation,paramKey:"query",title:"Query Parameters",workspace:i.workspace},null,8,["envVariables","environment","example","operation","workspace"]),[[Ce,n.value==="All"||n.value==="Query"]]),xe(g(Wo,{envVariables:i.envVariables,environment:i.environment,example:i.example,operation:i.operation,title:"Body",workspace:i.workspace},null,8,["envVariables","environment","example","operation","workspace"]),[[Ce,i.operation.method&&(n.value==="All"||n.value==="Body")&&s(Ie)(i.operation.method)]]),p[1]||(p[1]=h("div",{class:"flex flex-grow"},null,-1)),g(s(el),null,{default:b(()=>[g(Io,{collection:i.collection,example:i.example,operation:i.operation,server:i.server,workspace:i.workspace},null,8,["collection","example","operation","server","workspace"])]),_:1})])]),_:1},8,["aria-label"]))}}),Ko=ne(Go,[["__scopeId","data-v-5ab558f8"]]),Yo=G({__name:"HttpMethod",props:{isSquare:{type:Boolean,default:!1},method:{},isEditable:{type:Boolean,default:!1}},emits:["change"],setup(e,{emit:t}){const a=e,o=t,l=z(()=>Et(a.method)),u=Object.entries(na).map(([d])=>({id:d,label:d.toUpperCase(),color:Et(d).color})),c=z({get:()=>u.find(({id:d})=>d===a.method),set:d=>(d==null?void 0:d.id)&&o("change",d.id)}),n=tl({base:"text-center font-code text-3xs justify-center items-center flex",variants:{isSquare:{true:"px-2.5 whitespace-nowrap font-bold border-r h-fit m-auto",false:"rounded-full"},isEditable:{true:"http-bg-gradient rounded-md border-1/2 border-r-1/2",false:"cursor-auto"}}}),r=z(()=>l.value.short);return(d,i)=>d.isEditable?(m(),$(s(lt),{key:0,modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=p=>c.value=p),class:"mt-1 font-code text-sm scalar-client",options:s(u)},{default:b(()=>[h("div",{class:K(["h-full",{"pointer-events-none":!d.isEditable}])},[h("button",{class:K(["relative h-full",s(Bt)(s(n)({isSquare:d.isSquare,isEditable:d.isEditable}),l.value.color)]),type:"button"},[h("span",null,O(r.value),1)],2)],2)]),_:1},8,["modelValue","options"])):(m(),_("div",{key:1,class:K(["relative gap-1 whitespace-nowrap",s(Bt)(s(n)({isSquare:d.isSquare,isEditable:d.isEditable}),l.value.color)]),type:"button"},O(l.value.short),3))}}),Ze=ne(Yo,[["__scopeId","data-v-46723816"]]),Zo=(e,t=2)=>e>1e3?(e/1e3).toFixed(t)+"s":e+"ms",Xo={100:{color:"text-yellow"},200:{color:"text-green"},202:{color:"text-green"},300:{color:"text-blue"},304:{color:"text-blue"},400:{color:"text-red"},401:{color:"text-orange"},422:{color:"text-yellow"},423:{color:"text-purple"},505:{color:"text-orange"}},Qo=e=>Xo[e]||{color:"text-grey"},Jo={class:"min-w-0"},er={class:"min-w-0 truncate text-c-1"},tr=G({__name:"AddressBarHistory",props:{operation:{},target:{}},setup(e){const{requestHistory:t,requestExampleMutators:a}=ie(),o=Se(),l=L(t[0]??null),u=z(()=>t.filter(n=>n.request.requestUid===e.operation.uid).slice().reverse());function c(n){const r=o.currentRoute.value.params.workspace;e.operation.uid!==n.request.requestUid&&o.push({name:"request",params:{[de.Workspace]:r,[de.Request]:n.request.requestUid}}),a.set({...n.request})}return(n,r)=>(m(),$(s(nl),{modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=d=>l.value=d)},{default:b(({open:d})=>[g(s(sa),{offset:0,resize:"",target:n.target},Le({default:b(()=>{var i;return[(i=u.value)!=null&&i.length?(m(),$(s(al),{key:0,class:"addressbar-history-button z-context-plus mr-1 rounded-lg p-1.5 text-c-3 focus:text-c-1"},{default:b(()=>[g(s(X),{icon:"History",size:"sm",thickness:"2.25"}),r[1]||(r[1]=h("span",{class:"sr-only"},"Request History",-1))]),_:1})):A("",!0)]}),_:2},[d?{name:"floating",fn:b(({width:i})=>[g(s(ll),{class:"address-bg-states border-t custom-scroll max-h-[inherit] p-0.75 grid grid-cols-[44px,1fr,repeat(3,auto)] items-center",style:Ve({width:i})},{default:b(()=>[(m(!0),_(ee,null,me(u.value,(p,v)=>(m(),$(s(ol),{key:p.timestamp,class:"contents font-code text-sm *:rounded-none first:*:rounded-l last:*:rounded-r *:h-8 *:ui-active:bg-b-2 *:flex *:items-center *:cursor-pointer *:px-1.5 text-c-2 font-medium",value:v,onClick:f=>c(p)},{default:b(()=>{var f;return[p.response.method?(m(),$(Ze,{key:0,class:"text-[11px]",method:p.response.method},null,8,["method"])):A("",!0),h("div",Jo,[h("div",er,O(p.response.path),1)]),h("div",null,O(s(Zo)(p.response.duration)),1),h("div",{class:K([s(Qo)(p.response.status).color])},O(p.response.status),3),h("div",null,O((f=s(ha)[p.response.status])==null?void 0:f.name),1)]}),_:2},1032,["value","onClick"]))),128))]),_:2},1032,["style"]),g(s(rl),{class:"-top-[--scalar-address-bar-height] rounded-lg"})]),key:"0"}:void 0]),1032,["target"])]),_:1},8,["modelValue"]))}}),ar=ne(tr,[["__scopeId","data-v-a323ca24"]]),lr=["id"],or={class:"m-auto flex flex-row items-center"},rr={class:"addressbar-bg-states text-xxs p-0.75 group relative order-last flex w-full max-w-[calc(100dvw-24px)] flex-1 flex-row items-stretch rounded-lg lg:order-none lg:min-w-[580px] lg:max-w-[580px] xl:min-w-[720px] xl:max-w-[720px]"},nr={class:"pointer-events-none absolute left-0 top-0 block h-full w-full overflow-hidden rounded-lg border"},sr={class:"z-context-plus flex gap-1"},ir={class:"codemirror-bg-switcher scroll-timeline-x scroll-timeline-x-hidden z-context-plus relative flex w-full"},ur={"aria-hidden":"true",class:"inline-flex items-center gap-1"},dr=G({__name:"AddressBar",props:{collection:{},operation:{},server:{},environment:{},envVariables:{},workspace:{}},emits:["importCurl"],setup(e){const t=kt(),{requestMutators:a,events:o}=ie(),{layout:l}=we(),u=L(null),c=y=>{e.operation.path!==y&&a.edit(e.operation.uid,"path",y)};ue(()=>e.operation.path,y=>{y&&c(y)});const n=L(100),r=L(0),d=L(!1),i=L();function p(){d.value?n.value-=(n.value-15)/60:n.value-=r.value/20,n.value<=0&&(clearInterval(i.value),i.value=void 0,n.value=100,d.value=!1)}function v(){i.value||(d.value=!0,i.value=setInterval(p,20))}function f(){r.value=n.value,d.value=!1}function w(){clearInterval(i.value),i.value=void 0,n.value=100,d.value=!1}o.requestStatus.on(y=>{y==="start"&&v(),y==="stop"&&f(),y==="abort"&&w()});function B(y){a.edit(e.operation.uid,"method",y)}function S(){const{method:y}=e.operation;return na[y].backgroundColor}function U(){d.value||(d.value=!0,o.executeRequest.emit({requestUid:e.operation.uid}))}o.hotKeys.on(y=>{var H;y!=null&&y.focusAddressBar&&((H=u.value)==null||H.focus()),y!=null&&y.executeRequest&&U()});function T(y){a.edit(e.operation.uid,"path",y)}return(y,H)=>{var R;return m(),_("div",{id:s(t),class:"scalar-address-bar order-last h-[--scalar-address-bar-height] w-full [--scalar-address-bar-height:32px] lg:order-none lg:w-auto"},[h("div",or,[h("div",rr,[h("div",nr,[h("div",{class:K(["bg-mix-transparent bg-mix-amount-90 z-context absolute left-0 top-0 h-full w-full",S()]),style:Ve({transform:`translate3d(-${n.value}%,0,0)`})},null,6)]),h("div",sr,[g(Ze,{isEditable:s(l)!=="modal",isSquare:"",method:y.operation.method,teleport:"",onChange:B},null,8,["isEditable","method"])]),h("div",ir,[y.collection.servers.length?(m(),$(s(sl),{key:0,collection:y.collection,layout:"client",operation:y.operation,server:y.server,target:s(t)},null,8,["collection","operation","server","target"])):A("",!0),H[1]||(H[1]=h("div",{class:"fade-left"},null,-1)),g(at,{ref_key:"addressBarRef",ref:u,"aria-label":"Path",class:"min-w-fit outline-none",disableCloseBrackets:"",disabled:s(l)==="modal",disableEnter:"",disableTabIndent:"",emitOnBlur:!1,envVariables:y.envVariables,environment:y.environment,importCurl:"",modelValue:y.operation.path,placeholder:(R=y.server)!=null&&R.uid&&y.collection.servers.includes(y.server.uid)?"":"Enter a URL or cURL command",server:"",workspace:y.workspace,onCurl:H[0]||(H[0]=W=>y.$emit("importCurl",W)),onSubmit:U,"onUpdate:modelValue":T},null,8,["disabled","envVariables","environment","modelValue","placeholder","workspace"]),H[2]||(H[2]=h("div",{class:"fade-right"},null,-1))]),g(ar,{operation:y.operation,target:s(t)},null,8,["operation","target"]),g(s(se),{class:"z-context-plus relative h-auto shrink-0 overflow-hidden py-1 pl-2 pr-2.5 font-bold",disabled:d.value,onClick:U},{default:b(()=>[h("span",ur,[g(s(X),{class:"relative shrink-0 fill-current",icon:"Play",size:"xs"}),H[3]||(H[3]=h("span",{class:"text-xxs hidden lg:flex"},"Send",-1))]),H[4]||(H[4]=h("span",{class:"sr-only"}," Send Request ",-1))]),_:1},8,["disabled"])])])],8,lr)}}}),cr=ne(dr,[["__scopeId","data-v-b4d63e6c"]]),pr={parse(e){try{return{error:!1,data:JSON.parse(e)}}catch(t){return{error:!0,message:t.message?String(t.message):"Unknown Error"}}}},mr={class:"border flex flex-row gap-2 h-9 items-center mb-4 mt-2 p-[3px] rounded text-sm"},vr={class:"flex h-full"},fr={class:"scroll-timeline-x whitespace-nowrap"},hr={class:"flex gap-10 justify-between"},br=G({__name:"ImportCurlModal",props:{parsedCurl:{},state:{},collectionUid:{}},emits:["importCurl","close"],setup(e,{emit:t}){const a=e,o=t,{toast:l}=st(),u=L(""),{activeWorkspaceCollections:c,activeCollection:n}=Te(),r=z(()=>!u.value.trim()),d=z(()=>c.value.map(f=>{var w;return{id:f.uid,label:((w=f.info)==null?void 0:w.title)??"Unititled Collection"}})),i=L(a.collectionUid?d.value.find(f=>f.id===a.collectionUid):d.value.find(f=>{var w;return f.id===((w=n.value)==null?void 0:w.uid)}));function p(){if(r.value){l("Please enter a name before importing your request.","error");return}v()}function v(){var f;a.parsedCurl&&o("importCurl",{parsedCurl:a.parsedCurl,requestName:u.value,collectionUid:((f=i.value)==null?void 0:f.id)??""})}return ue(()=>a.state.open,f=>{f&&(u.value="")}),(f,w)=>(m(),$(s(Ee),{size:"xs",state:f.state,title:"Import cURL request"},{default:b(()=>{var B,S,U,T;return[g(s(ma),{modelValue:u.value,"onUpdate:modelValue":w[0]||(w[0]=y=>u.value=y),autofocus:"",class:"h-9",placeholder:"Request Name",onKeyup:Oe(p,["enter"])},null,8,["modelValue"]),h("div",mr,[h("div",vr,[g(Ze,{isEditable:!1,isSquare:"",method:((B=a.parsedCurl)==null?void 0:B.method)||"get"},null,8,["method"])]),h("span",fr,O(((U=(S=a.parsedCurl)==null?void 0:S.servers)==null?void 0:U[0])||"")+O(((T=a.parsedCurl)==null?void 0:T.path)||""),1)]),h("div",hr,[g(s(lt),{modelValue:i.value,"onUpdate:modelValue":w[1]||(w[1]=y=>i.value=y),options:d.value},{default:b(()=>[g(s(se),{class:"justify-between p-2 max-h-8 gap-1 text-xs hover:bg-b-2",variant:"outlined"},{default:b(()=>[h("span",{class:K(["whitespace-nowrap",i.value?"text-c-1":"text-c-3"])},O(i.value?i.value.label:"Select Collection"),3),g(s(X),{class:"text-c-3",icon:"ChevronDown",size:"md"})]),_:1})]),_:1},8,["modelValue","options"]),g(s(se),{class:"gap-1.5 font-medium px-2.5 h-8 shadow-none focus:outline-none whitespace-nowrap",disabled:r.value,type:"submit",onClick:p},{default:b(()=>w[2]||(w[2]=[Y(" Import Request ")])),_:1},8,["disabled"])])]}),_:1},8,["state"]))}}),gr=ne(br,[["__scopeId","data-v-b77d5bd3"]]);var Qe={},vt,Ft;function yr(){return Ft||(Ft=1,vt=function(t){return t.map(function(a){return a===""?"''":a&&typeof a=="object"?a.op.replace(/(.)/g,"\\$1"):/["\s]/.test(a)&&!/'/.test(a)?"'"+a.replace(/(['\\])/g,"\\$1")+"'":/["'\s]/.test(a)?'"'+a.replace(/(["\\$`!])/g,"\\$1")+'"':String(a).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@[\\\]^`{|}])/g,"$1\\$2")}).join(" ")}),vt}var ft,Lt;function xr(){if(Lt)return ft;Lt=1;for(var e="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",t=new RegExp("^"+e+"$"),a="|&;()<> \\t",o='"((\\\\"|[^"])*?)"',l="'((\\\\'|[^'])*?)'",u=/^#$/,c="'",n='"',r="$",d="",i=4294967296,p=0;p<4;p++)d+=(i*Math.random()).toString(16);var v=new RegExp("^"+d);function f(S,U){for(var T=U.lastIndex,y=[],H;H=U.exec(S);)y.push(H),U.lastIndex===H.index&&(U.lastIndex+=1);return U.lastIndex=T,y}function w(S,U,T){var y=typeof S=="function"?S(T):S[T];return typeof y>"u"&&T!=""?y="":typeof y>"u"&&(y="$"),typeof y=="object"?U+d+JSON.stringify(y)+d:U+y}function B(S,U,T){T||(T={});var y=T.escape||"\\",H="(\\"+y+`['"`+a+`]|[^\\s'"`+a+"])+",R=new RegExp(["("+e+")","("+H+"|"+o+"|"+l+")+"].join("|"),"g"),W=f(S,R);if(W.length===0)return[];U||(U={});var x=!1;return W.map(function(k){var P=k[0];if(!P||x)return;if(t.test(P))return{op:P};var D=!1,j=!1,I="",M=!1,F;function re(){F+=1;var C,E,ae=P.charAt(F);if(ae==="{"){if(F+=1,P.charAt(F)==="}")throw new Error("Bad substitution: "+P.slice(F-2,F+1));if(C=P.indexOf("}",F),C<0)throw new Error("Bad substitution: "+P.slice(F));E=P.slice(F,C),F=C}else if(/[*@#?$!_-]/.test(ae))E=ae,F+=1;else{var J=P.slice(F);C=J.match(/[^\w\d_]/),C?(E=J.slice(0,C.index),F+=C.index-1):(E=J,F=P.length)}return w(U,"",E)}for(F=0;F<P.length;F++){var Z=P.charAt(F);if(M=M||!D&&(Z==="*"||Z==="?"),j)I+=Z,j=!1;else if(D)Z===D?D=!1:D==c?I+=Z:Z===y?(F+=1,Z=P.charAt(F),Z===n||Z===y||Z===r?I+=Z:I+=y+Z):Z===r?I+=re():I+=Z;else if(Z===n||Z===c)D=Z;else{if(t.test(Z))return{op:P};if(u.test(Z)){x=!0;var ce={comment:S.slice(k.index+F+1)};return I.length?[I,ce]:[ce]}else Z===y?j=!0:Z===r?I+=re():I+=Z}}return M?{op:"glob",pattern:I}:I}).reduce(function(k,P){return typeof P>"u"?k:k.concat(P)},[])}return ft=function(U,T,y){var H=B(U,T,y);return typeof T!="function"?H:H.reduce(function(R,W){if(typeof W=="object")return R.concat(W);var x=W.split(RegExp("("+d+".*?"+d+")","g"));return x.length===1?R.concat(x[0]):R.concat(x.filter(Boolean).map(function(k){return v.test(k)?JSON.parse(k.split(d)[1]):k}))},[])},ft}var Gt;function wr(){return Gt||(Gt=1,Qe.quote=yr(),Qe.parse=xr()),Qe}var Sr=wr();function Tr(e){const t=Sr.parse(e).map(u=>typeof u=="object"&&"op"in u&&u.op==="glob"?u.pattern.trim():typeof u=="string"?u.trim():u).filter(u=>u!==""),a={url:""},o=t[Symbol.iterator]();let l=o.next().value;for(;l;)l==="-X"||l==="--request"?kr(o,a):l==="--url"?Kt(o,a):l==="-H"||l==="--header"?Hr(o,a):l==="--data"||l==="-d"||l==="--data-raw"||l==="--data-urlencode"||l==="--data-binary"||l==="--data-ascii"?Rr(o,a,e):typeof l=="string"&&!a.url&&(l.startsWith("http")||l.startsWith("www."))?Kt([l][Symbol.iterator](),a):l==="-P"?Ur(o,a):typeof l=="string"&&l.toLowerCase().includes("content-type")?Cr(l,a):l==="-u"||l==="--user"?$r(o,a):(l==="-b"||l==="--cookie")&&Pr(o,a),l=o.next().value;return a}function kr(e,t){t.method=e.next().value.toLowerCase()}function Kt(e,t){const a=new URL(e.next().value.replace(/['"]/g,""));t.servers=[a.origin],t.path=a.pathname!=="/"?a.pathname:"",t.url=t.servers[0]+t.path;const o=Ha(a.search);t.queryParameters=t.queryParameters?[...t.queryParameters,...o]:o}function Hr(e,t){const a=e.next().value.split(/:(.*)/);t.headers=t.headers||{},a[1]!==void 0?t.headers[a[0].trim()]=a[1].trim():t.headers[a[0].trim()]=""}function Ur(e,t){const a=e.next().value.replace(/['"]/g,"").split("=");t.pathVariables=t.pathVariables||{},a[1]!==void 0?t.pathVariables[a[0].trim()]=a[1].trim():t.pathVariables[a[0].trim()]=""}function Ha(e){const t=[];return new URL(e,"http://example.com").searchParams.forEach((a,o)=>{t.push({key:o,value:a})}),t}function Cr(e,t){const a=e.replace(/['"]/g,"").split(/:(.+)/);t.headers=t.headers||{},a[0]&&(a[1]!==void 0?t.headers[a[0].trim()]=a[1].trim():t.headers[a[0].trim()]="")}function $r(e,t){const a=e.next().value;try{const o=btoa(a);t.headers=t.headers||{},t.headers.Authorization=`Basic ${o}`}catch(o){console.warn("Could not base64 encode these HTTP basic auth credentials:",a,o)}}function Pr(e,t){const a=e.next().value;t.headers=t.headers||{},t.headers.Cookie?t.headers.Cookie+=`; ${a}`:t.headers.Cookie=a.replace(/;$/,"")}function Rr(e,t,a){const o=e.next().value;if(typeof o=="string"&&(o.startsWith("@")?t.body="":t.body=o,!t.url||a.includes("-G"))){const l=Ha(`?${t.body}`);t.queryParameters=t.queryParameters?[...t.queryParameters,...l]:l}}function _r(e){try{return JSON.parse(e)}catch{const t={};return e.split("&").forEach(a=>{const[o,l]=a.split("=");o&&l&&(t[decodeURIComponent(o)]=decodeURIComponent(l))}),t}}function zr(e){const t=Tr(e),{method:a="get",url:o,body:l="",headers:u={},servers:c,queryParameters:n=[]}=t,r=new URL(o).pathname,d=l!=null&&l.includes("=")&&!l.startsWith("{")?"application/x-www-form-urlencoded":u["Content-Type"]||"",i=l?_r(l):{},p=[...Array.isArray(n)?n.map(({key:v,value:f})=>({name:v,in:"query",schema:{type:typeof f,examples:[f]}})):[],...Object.entries(u||{}).map(([v,f])=>({name:v,in:"header",schema:{type:typeof f},example:f}))];return{method:a,url:o,path:r,headers:u,servers:c??[],...Object.keys(i).length>0&&{requestBody:{content:{[d]:{schema:{type:"object",properties:Object.fromEntries(Object.entries(i).map(([v,f])=>[v,{type:typeof f}]))},example:i}}}},parameters:p}}const Wr={Date:!0,RegExp:!0,String:!0,Number:!0};function Ut(e,t,a={cyclesFix:!0},o=[]){var n,r;let l=[];const u=Array.isArray(e);for(const d in e){const i=e[d],p=u?+d:d;if(!(d in t)){l.push({type:"REMOVE",path:[p],oldValue:e[d]});continue}const v=t[d],f=typeof i=="object"&&typeof v=="object"&&Array.isArray(i)===Array.isArray(v);i&&v&&f&&!Wr[(r=(n=Object.getPrototypeOf(i))==null?void 0:n.constructor)==null?void 0:r.name]&&(!a.cyclesFix||!o.includes(i))?l.push.apply(l,Ut(i,v,a,a.cyclesFix?o.concat([i]):[]).map(w=>(w.path.unshift(p),w))):i!==v&&!(Number.isNaN(i)&&Number.isNaN(v))&&!(f&&(isNaN(i)?i+""==v+"":+i==+v))&&l.push({path:[p],type:"CHANGE",value:v,oldValue:i})}const c=Array.isArray(t);for(const d in t)d in e||l.push({type:"CREATE",path:[c?+d:d],value:t[d]});return l}const Ua=(e,t=[])=>{const a=[];let o=!1;for(let l=0;l<e.length;l++){if(o){o=!1;continue}const u=e[l],c=e[l+1];if(u){if(t.length)u.path=[...t,...u.path],c&&(c.path=[...t,...c.path]);else if(u.path[0]!=="paths"){a.push(u);continue}if(u.type==="REMOVE"&&(c==null?void 0:c.type)==="CREATE"){const[,n,r]=u.path,[,d,i]=c.path,p=["paths",d].filter(v=>typeof v=="string");if(n!==d&&a.push({type:"CHANGE",path:["paths","path"],oldValue:n,value:d}),r&&typeof i=="string"&&r!==i&&d&&(a.push({type:"CHANGE",path:["paths",d,"method"],oldValue:r,value:i}),p.push(i)),t.length===0){const v=Ut(u.oldValue,c.value);if(v.length){const f=Ua(v,p);a.push(...f)}}o=!0}else u.type==="CREATE"&&u.path.length>3&&typeof u.path.at(-1)!="number"?a.push({...u,type:"CHANGE",oldValue:void 0}):u.type==="REMOVE"&&u.path.length>3&&typeof u.path.at(-1)!="number"?a.push({...u,type:"CHANGE",value:void 0}):a.push(u)}}return a},et=(e,t,a)=>{for(const o of e){const l=t[o];if(l&&a(l))return l}return null},Be=e=>e instanceof pe.ZodOptional?Be(e.unwrap()):e instanceof pe.ZodDefault?Be(e._def.innerType):e instanceof pe.ZodEffects?Be(e._def.schema):e,Er=(e,t)=>{let a=e;for(const o of t){if(a=Be(a),a instanceof pe.ZodAny)return a;if(a instanceof pe.ZodObject&&typeof o=="string"&&o in a.shape)a=a.shape[o];else if(a instanceof pe.ZodArray)if(typeof o=="number")a=a.element;else if(typeof o=="string")if(a=a.element,a instanceof pe.ZodObject&&o in a.shape)a=a.shape[o];else return null;else return null;else if(a instanceof pe.ZodRecord)a=a.valueSchema;else return null;a=Be(a)}return a},_e=(e,t)=>{const a=Er(e,t.path);if(!a)return null;const o=t.path.join("."),l=t.path.slice(0,-1).join(".");if(t.type==="REMOVE")return{path:o,pathMinusOne:l,value:void 0};const u=it(t.value,a,!1);return u?{path:o,pathMinusOne:l,value:u}:null},Br=(e,{activeCollection:t},{collectionMutators:a})=>{if(!t.value)return!1;if(typeof e.path[e.path.length-1]=="number"&&(e.type==="CREATE"||e.type==="REMOVE")){const o=_e(Vt,{...e,path:e.path});if(!o)return!1;const l=[...ia(t.value,o.pathMinusOne)];e.type==="CREATE"?l.push(o.value):e.type==="REMOVE"&&l.pop(),a.edit(t.value.uid,o.pathMinusOne,l)}else{const o=_e(Vt,e);if(!o)return!1;a.edit(t.value.uid,o.path,o.value)}return!0},Yt=(e,t)=>{const{requests:a,requestExamples:o,requestExampleMutators:l}=t,u=a[e];u==null||u.examples.forEach(c=>{var n;const r=ul(u,((n=o[c])==null?void 0:n.name)??"Default");r&&l.set({...r,uid:c})})},Vr=(e,{activeCollection:t},a)=>{if(!t.value)return!1;const{requests:o,requestMutators:l}=a,[,u,c,...n]=e.path;if(u==="path"&&e.type==="CHANGE")t.value.requests.forEach(r=>{var d;((d=o[r])==null?void 0:d.path)===e.oldValue&&l.edit(r,"path",e.value)});else if(c==="method"&&e.type==="CHANGE")t.value.requests.forEach(r=>{var d,i;((d=o[r])==null?void 0:d.method)===e.oldValue&&((i=o[r])==null?void 0:i.path)===u&&l.edit(r,"method",e.value)});else if(e.type!=="CHANGE"&&typeof n.at(-1)=="number"){const r=et(t.value.requests,o,p=>p.path===u&&p.method===c),d=_e(dt,{...e,path:e.path.slice(3)});if(!r||!d)return!1;const i=[...ia(r,d.pathMinusOne)];e.type==="CREATE"?i.push(d.value):e.type==="REMOVE"&&i.pop(),l.edit(r.uid,d.pathMinusOne,i),(e.path[3]==="parameters"||e.path[3]==="requestBody")&&Yt(r.uid,a)}else if(e.type==="CREATE"){const[r]=Object.entries(e.value??{}),[d,i]=r??[],p=c?e.value:i,v=c||d,f=ht.array().parse(p.servers??[]),{security:w,...B}=p,S={...B,method:il(v)?v:"get",path:u,parameters:p.parameters??[],servers:f.map(T=>T.uid)};w!=null&&w.length&&(S.security=w.map(T=>{if(Object.keys(T).length){const[y]=Object.keys(T);return y?{[y]:T[y]}:T}return T}));const U=it(S,dt,!1);if(!U)return!1;l.add(U,t.value.uid)}else if(e.type==="REMOVE"){const r=et(t.value.requests,o,d=>d.path===u&&d.method===c);if(!r)return!1;l.delete(r,t.value.uid)}else if(e.type==="CHANGE"){const r=et(t.value.requests,o,i=>i.path===u&&i.method===c),d=_e(dt,{...e,path:n});if(!r||!d)return!1;l.edit(r.uid,d.path,d.value),(e.path[3]==="parameters"||e.path[3]==="requestBody")&&Yt(r.uid,a)}return!0},Ar=(e,{activeCollection:t},{servers:a,serverMutators:o})=>{if(!t.value)return!1;const[,l,...u]=e.path;if(u!=null&&u.length){const c=t.value.servers[l];if(!c)return!1;const n=a[c],r=_e(ht,{...e,path:u});if(!n||!r)return!1;const d=e.type==="REMOVE"&&u[u.length-1]==="variables"?{}:r.value;o.edit(c,r.path,d)}else if(e.type==="REMOVE"){if(!t.value.servers[l])return!1;o.delete(t.value.servers[l],t.value.uid)}else if(e.type==="CREATE"){const c=it(e.value,ht,!1);if(!c)return!1;o.add(c,t.value.uid)}return!0},qr=(e,{activeCollection:t},{tags:a,tagMutators:o})=>{if(!t.value)return!1;const[,l,...u]=e.path;if(u!=null&&u.length){const c=t.value.tags[l];if(!c)return!1;const n=a[c],r=_e(qt,{...e,path:u});if(!n||!r)return!1;o.edit(c,r.path,r.value)}else if(e.type==="REMOVE"){const c=t.value.tags[l];if(!c)return!1;const n=a[c];if(!n)return!1;o.delete(n,t.value.uid)}else if(e.type==="CREATE"){const c=it(e.value,qt,!1);if(!c)return!1;o.add(c,t.value.uid)}return!0},Dr=(e,t,a)=>{const o=Be(e);if(o instanceof pe.ZodUnion||o instanceof pe.ZodDiscriminatedUnion){for(const l of o.options)if(l instanceof pe.ZodObject&&t in l.shape&&l.shape[t]instanceof pe.ZodLiteral&&l.shape[t].value===a)return l}return null},Mr=(e,{activeCollection:t},{securitySchemes:a,securitySchemeMutators:o})=>{if(!t.value)return!1;const[,,l,...u]=e.path,c=a[l]??et(t.value.securitySchemes,a,n=>n.nameKey===l);if(u!=null&&u.length){const n=Dr(At,"type",(c==null?void 0:c.type)??"");if(!n||!c)return!1;const r=_e(n,{...e,path:u});if(!r)return!1;const d=r.path;o.edit(c.uid,d,r.value)}else if(e.type==="REMOVE"){if(!c)return!1;o.delete(c.uid)}else e.type==="CREATE"&&o.add(At.parse(e.value),t.value.uid);return!0},Ir=5*1e3,Or=60*1e3,Nr=()=>{const{toast:e}=st(),t=Te(),a=ie(),{activeCollection:o,activeWorkspace:l}=t,{collectionMutators:u}=a,c=i=>e(`[useOpenApiWatcher] Changes to the ${i} were not applied`,"error"),n=i=>{i.path[0]==="info"||i.path[0]==="security"?Br(i,t,a)||c("collection"):i.path[0]==="components"&&i.path[1]==="securitySchemes"?Mr(i,t,a)||c("securitySchemes"):i.path[0]==="servers"?Ar(i,t,a)||c("servers"):i.path[0]==="tags"?qr(i,t,a)||c("tags"):i.path[0]==="paths"&&(Vr(i,t,a)||c("requests"))},{pause:r,resume:d}=dl(async()=>{var i,p;const v=(i=o.value)==null?void 0:i.documentUrl;if(!v)return;const f=ct[v];try{const w=await cl(v,(p=l.value)==null?void 0:p.proxyUrl,!1),B=pl(w);if(u.edit(o.value.uid,"watchModeStatus","WATCHING"),f!=null&&f.hash)if(f.hash&&f.hash!==B){const{schema:S}=await Dt(w),U=Ut(f.schema,S),T=Ua(U);try{T.forEach(n),ct[v]={hash:B,schema:S}}catch(y){console.error("[useOpenApiWatcher] Error:",y)}}else console.log("[useOpenApiWatcher] No changes detected yet…");else{const{schema:S}=await Dt(w);S&&(ct[v]={hash:B,schema:S})}}catch(w){console.error("[useOpenApiWatcher] Error:",w),console.info("[useOpenApiWatcher] Pausing watcher for 60 seconds"),r(),u.edit(o.value.uid,"watchModeStatus","ERROR"),e("[useOpenApiWatcher] Unable to fetch the spec file, paused the watcher for 60 seconds","error"),setTimeout(()=>{console.info("[useOpenApiWatcher] Resuming watcher"),d()},Or)}},Ir);ue([()=>{var i;return(i=o.value)==null?void 0:i.documentUrl},()=>{var i;return(i=o.value)==null?void 0:i.watchMode}],([i,p])=>{i&&p?(console.info(`[useOpenApiWatcher] Watching ${i} …`),d()):o.value&&(r(),u.edit(o.value.uid,"watchModeStatus","IDLE"))},{immediate:!0})},jr={class:"sr-only"},Fr={class:"size-4",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Lr={"clip-path":"url(#mask)"},Ca=G({__name:"SidebarToggle",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e){return(t,a)=>(m(),_("button",{class:"scalar-sidebar-toggle text-c-3 hover:bg-b-2 active:text-c-1 p-2 rounded-lg",type:"button",onClick:a[0]||(a[0]=o=>t.$emit("update:modelValue",!t.modelValue))},[h("span",jr,O(t.modelValue?"Hide":"Show")+" sidebar",1),(m(),_("svg",Fr,[a[1]||(a[1]=h("defs",null,[h("clipPath",{id:"mask"},[h("path",{"clip-rule":"evenodd",d:"M9 3.2H4c-1.7 0-3 1.3-3 3v11.5c0 1.7 1.3 3 3 3h5V3.2z"})])],-1)),h("g",Lr,[h("path",{class:K(["transition-transform duration-300",t.modelValue?"translate-x-0":"-translate-x-1/2"]),d:"M1 3.2h8v17.5H1z",fill:"currentColor"},null,2)]),a[2]||(a[2]=h("path",{d:"M20 20.8H4c-1.7 0-3-1.3-3-3V6.2c0-1.7 1.3-3 3-3h16c1.7 0 3 1.3 3 3v11.5c0 1.7-1.3 3-3 3zM9 3.2v17.5",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,-1))]))]))}}),Gr={class:"lg:min-h-client-header flex items-center w-full justify-center p-2 pt-2 lg:pt-1 lg:p-1 flex-wrap t-app__top-container border-b-1/2"},Kr={class:"flex flex-row items-center gap-1 lg:px-1 lg:mb-0 mb-2 lg:flex-1 w-1/2"},Yr={class:"flex flex-row items-center gap-1 lg:px-2.5 lg:mb-0 mb-2 lg:flex-1 justify-end w-1/2"},Zr=G({__name:"RequestSubpageHeader",props:{collection:{},operation:{},server:{},environment:{},envVariables:{},workspace:{},modelValue:{type:Boolean}},emits:["update:modelValue","hideModal","importCurl"],setup(e){const{hideClientButton:t,showSidebar:a,integration:o}=ie(),{layout:l}=we(),{currentRoute:u}=Se();return(c,n)=>(m(),_("div",Gr,[h("div",Kr,[s(a)?(m(),$(Ca,{key:0,class:K(["ml-1",[{hidden:c.modelValue},{"xl:!flex":!c.modelValue},{"!flex":s(l)==="modal"},{"!hidden":s(l)==="modal"&&c.modelValue}]]),modelValue:c.modelValue,"onUpdate:modelValue":n[0]||(n[0]=r=>c.$emit("update:modelValue",r))},null,8,["class","modelValue"])):A("",!0)]),g(cr,{collection:c.collection,envVariables:c.envVariables,environment:c.environment,operation:c.operation,server:c.server,workspace:c.workspace,onImportCurl:n[1]||(n[1]=r=>c.$emit("importCurl",r))},null,8,["collection","envVariables","environment","operation","server","workspace"]),h("div",Yr,[s(l)==="modal"&&c.collection.documentUrl&&!s(t)?(m(),$(s(ml),{key:0,buttonSource:"modal",class:"!w-fit lg:-mr-1",integration:s(o)??c.collection.integration??null,source:s(u).query.source==="gitbook"?"gitbook":"api-reference",url:c.collection.documentUrl},null,8,["integration","source","url"])):A("",!0),s(l)==="modal"?(m(),_("button",{key:1,class:"app-exit-button p-2 rounded-full fixed right-2 top-2 gitbook-hidden",type:"button",onClick:n[2]||(n[2]=r=>c.$emit("hideModal"))},[g(s(X),{icon:"Close",size:"lg",thickness:"2"}),n[4]||(n[4]=h("span",{class:"sr-only"},"Close Client",-1))])):A("",!0),s(l)==="modal"?(m(),_("button",{key:2,class:"text-c-1 hover:bg-b-2 active:text-c-1 p-2 rounded -mr-1.5 gitbook-show",type:"button",onClick:n[3]||(n[3]=r=>c.$emit("hideModal"))},[g(s(X),{icon:"Close",size:"md",thickness:"1.75"}),n[5]||(n[5]=h("span",{class:"sr-only"},"Close Client",-1))])):A("",!0)])]))}}),Xr=ne(Zr,[["__scopeId","data-v-cac03082"]]),Ct={"application/epub+zip":{extension:".epub"},"application/gzip":{extension:".gz"},"application/java-archive":{extension:".jar"},"application/javascript":{extension:".js",raw:!0},"application/json":{extension:".json",raw:!0,language:"json"},"application/ld+json":{extension:".jsonld",raw:!0,language:"json"},"application/problem+json":{extension:".json",raw:!0,language:"json"},"application/msword":{extension:".doc"},"application/octet-stream":{extension:".bin"},"application/ogg":{extension:".ogx"},"application/pdf":{extension:".pdf",preview:"object"},"application/rtf":{extension:".rtf",raw:!0},"application/vnd.amazon.ebook":{extension:".azw"},"application/vnd.apple.installer+xml":{extension:".mpkg",raw:!0,language:"xml"},"application/vnd.mozilla.xul+xml":{extension:".xul",raw:!0,language:"xml"},"application/vnd.ms-excel":{extension:".xls"},"application/vnd.ms-fontobject":{extension:".eot"},"application/vnd.ms-powerpoint":{extension:".ppt"},"application/vnd.oasis.opendocument.presentation":{extension:".odp"},"application/vnd.oasis.opendocument.spreadsheet":{extension:".ods"},"application/vnd.oasis.opendocument.text":{extension:".odt"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{extension:".pptx"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{extension:".xlsx"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{extension:".docx"},"application/vnd.rar":{extension:".rar"},"application/vnd.visio":{extension:".vsd"},"application/x-7z-compressed":{extension:".7z"},"application/x-abiword":{extension:".abw"},"application/x-bzip":{extension:".bz"},"application/x-bzip2":{extension:".bz2"},"application/x-cdf":{extension:".cda"},"application/x-csh":{extension:".csh"},"application/x-freearc":{extension:".arc"},"application/x-httpd-php":{extension:".php",raw:!0},"application/x-sh":{extension:".sh",raw:!0},"application/x-tar":{extension:".tar"},"application/xhtml+xml":{extension:".xhtml",raw:!0,language:"html"},"application/xml":{extension:".xml",raw:!0,language:"xml"},"application/yaml":{extension:".yaml",raw:!0,language:"yaml"},"application/zip":{extension:".zip"},"audio/aac":{extension:".aac"},"audio/midi":{extension:".midi"},"audio/mpeg":{extension:".mp3",preview:"audio"},"audio/ogg":{extension:".oga"},"audio/wav":{extension:".wav"},"audio/webm":{extension:".weba"},"font/otf":{extension:".otf"},"font/ttf":{extension:".ttf"},"font/woff":{extension:".woff"},"font/woff2":{extension:".woff2"},"image/apng":{extension:".apng",preview:"image",alpha:!0},"image/avif":{extension:".avif",preview:"image"},"image/bmp":{extension:".bmp",preview:"image"},"image/gif":{extension:".gif",preview:"image",alpha:!0},"image/jpeg":{extension:".jpg",preview:"image"},"image/png":{extension:".png",preview:"image",alpha:!0},"image/svg+xml":{extension:".svg",raw:!0,language:"xml",preview:"image",alpha:!0},"image/tiff":{extension:".tiff"},"image/vnd.microsoft.icon":{extension:".ico",preview:"image"},"image/webp":{extension:".webp",preview:"image",alpha:!0},"text/calendar":{extension:".ics",raw:!0},"text/css":{extension:".css",raw:!0,language:"css"},"text/csv":{extension:".csv",raw:!0},"text/html":{extension:".html",raw:!0,language:"html",preview:"object"},"text/javascript":{extension:".js",raw:!0},"text/plain":{extension:".txt",raw:!0},"text/xml":{extension:".xml",raw:!0,language:"xml"},"text/yaml":{extension:".yaml",raw:!0,language:"yaml"},"video/3gpp":{extension:".3gp"},"audio/3gpp":{extension:".3gp"},"video/3gpp2":{extension:".3g2"},"audio/3gpp2":{extension:".3g2"},"video/mp2t":{extension:".ts"},"video/mp4":{extension:".mp4",preview:"video"},"video/mpeg":{extension:".mpeg"},"video/ogg":{extension:".ogv"},"video/webm":{extension:".webm",preview:"video"},"video/x-msvideo":{extension:".avi"}},Qr=Object.entries(Ct).filter(([,e])=>e==null?void 0:e.raw).map(([e])=>e),Jr=["download","href"],$a=G({__name:"ResponseBodyDownload",props:{href:{},type:{},filename:{}},setup(e){const t=e,a=z(()=>{var o;const l=((o=Ct[t.type??""])==null?void 0:o.extension)??".unknown";return t.filename?t.filename:`response${l}`});return(o,l)=>(m(),_("a",{class:"flex gap-1 text-c-3 text-xxs no-underline items-center hover:bg-b-3 rounded py-0.5 px-1.5",download:`${a.value}`,href:o.href,onClick:l[0]||(l[0]=oe(()=>{},["stop"]))},[g(s(X),{icon:"Download",size:"xs"}),l[1]||(l[1]=h("span",null,[h("span",null,"Download"),h("span",{class:"sr-only"},"Response Body")],-1))],8,Jr))}}),en={},tn={class:"flex justify-center px-2 py-3"},an={class:"text-c-3 p-2 text-sm"};function ln(e,t){return m(),_("div",tn,[h("div",an,[he(e.$slots,"default")])])}const Pa=ne(en,[["render",ln]]),on=["src"],rn=["src","type"],nn=["src","type"],sn=["data","type"],un=G({__name:"ResponseBodyPreview",props:{src:{},type:{},mode:{},alpha:{type:Boolean,default:!1}},setup(e){const t=L(!1);return ue(()=>e.src,()=>t.value=!1),(a,o)=>!t.value&&a.src?(m(),_("div",{key:0,class:K(["flex justify-center overflow-auto rounded-b",{"p-2 bg-preview":a.alpha}])},[a.mode==="image"?(m(),_("img",{key:0,class:K(["h-full max-w-full",{rounded:a.alpha}]),src:a.src,onError:o[0]||(o[0]=l=>t.value=!0)},null,42,on)):a.mode==="video"?(m(),_("video",{key:1,autoplay:"",controls:"",width:"100%",onError:o[1]||(o[1]=l=>t.value=!0)},[h("source",{src:a.src,type:a.type},null,8,rn)],32)):a.mode==="audio"?(m(),_("audio",{key:2,class:"my-12",controls:"",onError:o[2]||(o[2]=l=>t.value=!0)},[h("source",{src:a.src,type:a.type},null,8,nn)],32)):(m(),_("object",{key:3,class:"w-full aspect-[4/3]",data:a.src,type:a.type,onError:o[3]||(o[3]=l=>t.value=!0)},null,40,sn))],2)):(m(),$(Pa,{key:1},{default:b(()=>o[4]||(o[4]=[Y("Preview unavailable")])),_:1}))}}),dn=ne(un,[["__scopeId","data-v-5f138d26"]]),cn={class:"body-raw relative overflow-auto"},pn={key:0,class:"scalar-code-copy"},mn=G({__name:"ResponseBodyRaw",props:{content:{},language:{}},setup(e){const t=e,a=L(null),{copyToClipboard:o}=vl(),{codeMirror:l}=fl({codeMirrorRef:a,readOnly:!0,lineNumbers:!0,content:Mt(()=>hl(t.content)),language:Mt(()=>t.language),forceFoldGutter:!0}),u=()=>{var c;return((c=l.value)==null?void 0:c.state.doc.toString())||""};return(c,n)=>(m(),_("div",cn,[u()?(m(),_("div",pn,[h("button",{class:"copy-button",type:"button",onClick:n[0]||(n[0]=r=>s(o)(u()))},[n[1]||(n[1]=h("span",{class:"sr-only"},"Copy content",-1)),g(s(X),{icon:"Clipboard",size:"md"})])])):A("",!0),h("div",{ref_key:"codeMirrorRef",ref:a},null,512)]))}}),vn=ne(mn,[["__scopeId","data-v-99361e9b"]]),fn={class:"text-c-3 flex -my-1 justify-center rounded text-xxs p-0.5 gap-0.5"},hn=G({__name:"ResponseBodyToggle",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e){return(t,a)=>(m(),_("div",fn,[h("button",{class:K(["hover:bg-b-3 rounded px-1",{"bg-b-3 text-c-1 cursor-default":t.modelValue}]),type:"button",onClick:a[0]||(a[0]=oe(o=>t.$emit("update:modelValue",!0),["stop"]))}," Preview ",2),h("button",{class:K(["hover:bg-b-3 rounded px-1",{"bg-b-3 text-c-1 cursor-default":!t.modelValue}]),type:"button",onClick:a[1]||(a[1]=oe(o=>t.$emit("update:modelValue",!1),["stop"]))}," Raw ",2)]))}}),bn={key:0,class:"max-h-[calc(100%-32px)] border-t-1/2 flex flex-col bg-b-1 overflow-hidden"},gn={class:"flex justify-between items-center border-b-1/2 px-3 py-1.5"},yn={class:"text-xxs leading-3 font-code"},xn=G({__name:"ResponseBody",props:{title:{},data:{},headers:{}},setup(e){const t=e,a=L(!0),o=z(()=>{var i;return!!((i=d.value)!=null&&i.raw&&d.value.preview)}),l=z(()=>a.value||!o.value),u=z(()=>!a.value||!o.value),{mimeType:c,attachmentFilename:n,dataUrl:r}=Sa({data:t.data,headers:t.headers}),d=z(()=>Ct[c.value.essence]);return(i,p)=>(m(),$(Pe,{class:"max-h-content overflow-x-auto"},Le({title:b(()=>[Y(O(i.title),1)]),default:b(()=>{var v,f,w,B;return[i.data?(m(),_("div",bn,[h("div",gn,[h("span",yn,O(s(c).essence),1),o.value?(m(),$(hn,{key:0,modelValue:a.value,"onUpdate:modelValue":p[0]||(p[0]=S=>a.value=S)},null,8,["modelValue"])):A("",!0)]),(v=d.value)!=null&&v.raw&&u.value?(m(),$(vn,{key:s(r),content:i.data,language:d.value.language},null,8,["content","language"])):A("",!0),(f=d.value)!=null&&f.preview&&l.value?(m(),$(dn,{key:s(r),alpha:d.value.alpha,mode:d.value.preview,src:s(r),type:s(c).essence},null,8,["alpha","mode","src","type"])):A("",!0),!((w=d.value)!=null&&w.raw)&&!((B=d.value)!=null&&B.preview)?(m(),$(Pa,{key:2},{default:b(()=>p[1]||(p[1]=[Y(" Binary file ")])),_:1})):A("",!0)])):A("",!0)]}),_:2},[i.data&&s(r)?{name:"actions",fn:b(()=>[g($a,{filename:s(n),href:s(r),type:s(c).essence},null,8,["filename","href","type"])]),key:"0"}:void 0]),1024))}}),wn=ne(xn,[["__scopeId","data-v-cf80aa59"]]),Sn=`                         .,,uod8B8bou,,.
                ..,uod8BBBBBBBBBBBBBBBBRPFT?l!i:.
           ||||||||||||||!?TFPRBBBBBBBBBBBBBBB8m=,
           ||||   '""^^!!||||||||||TFPRBBBVT!:...!
           ||||            '""^^!!|||||?!:.......!
           ||||                     ||||.........!
           ||||                     ||||.........!
           ||||                     ||||.........!
           ||||                     ||||.........!
           ||||                     ||||.........!
           ||||                     ||||.........!
           ||||,                    ||||.........\`
           |||||!!-._               ||||.......;.
           ':!|||||||||!!-._        ||||.....bBBBBWdou,.
         bBBBBB86foi!|||||||!!-..:|||!..bBBBBBBBBBBBBBBY!
         ::!?TFPRBBBBBB86foi!||||||||!!bBBBBBBBBBBBBBBY..!
         :::::::::!?TFPRBBBBBB86ftiaabBBBBBBBBBBBBBBY....!
         :::;\`"^!:;::::::!?TFPRBBBBBBBBBBBBBBBBBBBY......!
         ;::::::...''^::::::::::!?TFPRBBBBBBBBBBY........!
     .ob86foi;::::::::::::::::::::::::!?TFPRBY..........\`
    .b888888888886foi;:::::::::::::::::::::::..........\`
 .b888888888888888888886foi;::::::::::::::::..........
.b888888888888888888888888888886foi;:::::::::......\`
!Tf998888888888888888888888888888888886foi;:::....\`
  '"^!|Tf9988888888888888888888888888888888!::..\`
       '"^!|Tf998888888888888888888888889!! '\`
             '"^!|Tf9988888888888888888!!\`            iBBbo.
                  '"^!|Tf998888888889!\`             WBBBBbo.
                        '"^!|Tf9989!\`              YBBBP^'
                              '"^!\`               \`
`,Tn={class:"border-t relative col-1 flex-center gap-6 p-2 capitalize"},kn={key:0,class:"scalar-version-number"},Hn={class:"text-c-3 right-4 mt-auto flex w-full flex-col items-end gap-2 text-sm"},Un=G({__name:"ResponseEmpty",props:{numWorkspaceRequests:{}},setup(e){const{events:t}=ie(),a=bl(),{layout:o}=we(),l=()=>{t.commandPalette.emit({commandName:"Create Request"})},u=n=>{n!=null&&n.createNew&&a.name==="request"&&l()},c="2.2.51";return be(()=>t.hotKeys.on(u)),Ge(()=>t.hotKeys.off(u)),(n,r)=>(m(),_("div",Tn,[h("div",{class:K(["flex h-[calc(100%_-_50px)] flex-col items-center justify-center",{"hidden opacity-0":n.numWorkspaceRequests<=1&&s(o)!=="modal"}])},[s(o)!=="modal"?(m(),_("div",kn,[Y(" Scalar App V"+O(s(c))+" Beta ",1),r[2]||(r[2]=h("div",{class:"mt-2"},[h("a",{href:"https://github.com/scalar/scalar/issues/2669",target:"_blank"}," Roadmap ")],-1))])):A("",!0),r[3]||(r[3]=h("a",{class:"gitbook-show scalar-version-number",href:"https://www.scalar.com",target:"_blank"}," Powered By Scalar.com ",-1)),g(yt,{art:s(Sn),class:"text-c-3"},null,8,["art"])],2),s(o)!=="modal"?(m(),_("div",{key:0,class:K(["h-[calc(100%_-_50px)] items-center justify-center hidden pb-5",{"!flex opacity-100":n.numWorkspaceRequests==1}])},[g(xt)],2)):A("",!0),h("div",Hn,[s(o)!=="modal"?(m(),_("button",{key:0,class:"flex items-center gap-1.5",type:"button",onClick:r[0]||(r[0]=d=>s(t).commandPalette.emit())},[r[4]||(r[4]=Y(" Get Started ")),g(pt,{hotkey:"k"})])):A("",!0),s(o)==="desktop"?(m(),_("button",{key:1,class:"flex items-center gap-1.5",type:"button",onClick:l},[r[5]||(r[5]=Y(" New Request ")),g(pt,{hotkey:"N"})])):A("",!0),h("button",{class:"flex items-center gap-1.5",type:"button",onClick:r[1]||(r[1]=d=>s(t).executeRequest.emit())},[r[6]||(r[6]=Y(" Send Request ")),g(pt,{hotkey:"↵"})])])]))}}),Cn=ne(Un,[["__scopeId","data-v-04a8f835"]]),$n={key:0,class:"absolute inset-0 bg-b-1 flex flex-col gap-6 items-center justify-center"},Pn=G({__name:"ResponseLoadingOverlay",setup(e){const{events:t}=ie(),a=gl(),o=L();return t.requestStatus.on(l=>{l==="start"?o.value=setTimeout(()=>a.startLoading(),1e3):(clearTimeout(o.value),o.value=void 0,a.stopLoading())}),(l,u)=>(m(),$(xl,null,{default:b(()=>[s(a).isLoading?(m(),_("div",$n,[g(s(yl),{class:"text-c-3",loadingState:s(a),size:"3xl"},null,8,["loadingState"]),g(s(se),{variant:"ghost",onClick:u[0]||(u[0]=c=>s(t).cancelRequest.emit())},{default:b(()=>u[1]||(u[1]=[Y(" Cancel ")])),_:1})])):A("",!0)]),_:1}))}}),Rn=ne(Pn,[["__scopeId","data-v-ef5f83d8"]]),_n=["href"],Ra=G({__name:"HelpfulLink",props:{href:{}},setup(e){return(t,a)=>(m(),_("a",{class:"cursor-help decoration-c-3 underline underline-offset-2",href:t.href,rel:"noopener noreferrer",target:"_blank"},[he(t.$slots,"default")],8,_n))}}),zn=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Wn=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],En=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Bn=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],Zt=(e,t,a)=>{let o=e;return typeof t=="string"||Array.isArray(t)?o=e.toLocaleString(t,a):(t===!0||a!==void 0)&&(o=e.toLocaleString(void 0,a)),o};function Vn(e,t){if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);t={bits:!1,binary:!1,space:!0,...t};const a=t.bits?t.binary?Bn:En:t.binary?Wn:zn,o=t.space?" ":"";if(t.signed&&e===0)return` 0${o}${a[0]}`;const l=e<0,u=l?"-":t.signed?"+":"";l&&(e=-e);let c;if(t.minimumFractionDigits!==void 0&&(c={minimumFractionDigits:t.minimumFractionDigits}),t.maximumFractionDigits!==void 0&&(c={maximumFractionDigits:t.maximumFractionDigits,...c}),e<1){const i=Zt(e,t.locale,c);return u+i+o+a[0]}const n=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),a.length-1);e/=(t.binary?1024:1e3)**n,c||(e=e.toPrecision(3));const r=Zt(Number(e),t.locale,c),d=a[n];return u+r+o+d}function An(e){if(typeof e!="number")throw new TypeError("Expected a number");const t=e>0?Math.floor:Math.ceil;return{days:t(e/864e5),hours:t(e/36e5)%24,minutes:t(e/6e4)%60,seconds:t(e/1e3)%60,milliseconds:t(e)%1e3,microseconds:t(e*1e3)%1e3,nanoseconds:t(e*1e6)%1e3}}const qn=(e,t)=>t===1?e:`${e}s`,Dn=1e-7;function Xt(e,t={}){if(!Number.isFinite(e))throw new TypeError("Expected a finite number");t.colonNotation&&(t.compact=!1,t.formatSubMilliseconds=!1,t.separateMilliseconds=!1,t.verbose=!1),t.compact&&(t.secondsDecimalDigits=0,t.millisecondsDecimalDigits=0);const a=[],o=(c,n)=>{const r=Math.floor(c*10**n+Dn);return(Math.round(r)/10**n).toFixed(n)},l=(c,n,r,d)=>{if((a.length===0||!t.colonNotation)&&c===0&&!(t.colonNotation&&r==="m"))return;d=(d||c||"0").toString();let i,p;if(t.colonNotation){i=a.length>0?":":"",p="";const v=d.includes(".")?d.split(".")[0].length:d.length,f=a.length>0?2:1;d="0".repeat(Math.max(0,f-v))+d}else i="",p=t.verbose?" "+qn(n,c):r;a.push(i+d+p)},u=An(e);if(l(Math.trunc(u.days/365),"year","y"),l(u.days%365,"day","d"),l(u.hours,"hour","h"),l(u.minutes,"minute","m"),t.separateMilliseconds||t.formatSubMilliseconds||!t.colonNotation&&e<1e3)if(l(u.seconds,"second","s"),t.formatSubMilliseconds)l(u.milliseconds,"millisecond","ms"),l(u.microseconds,"microsecond","µs"),l(u.nanoseconds,"nanosecond","ns");else{const c=u.milliseconds+u.microseconds/1e3+u.nanoseconds/1e6,n=typeof t.millisecondsDecimalDigits=="number"?t.millisecondsDecimalDigits:0,r=c>=1?Math.round(c):Math.ceil(c),d=n?c.toFixed(n):r;l(Number.parseFloat(d),"millisecond","ms",d)}else{const c=e/1e3%60,n=typeof t.secondsDecimalDigits=="number"?t.secondsDecimalDigits:1,r=o(c,n),d=t.keepDecimalsOnWholeSeconds?r:r.replace(/\.0+$/,"");l(Number.parseFloat(d),"second","s",d)}if(a.length===0)return"0"+(t.verbose?" milliseconds":"ms");if(t.compact)return a[0];if(typeof t.unitCount=="number"){const c=t.colonNotation?"":" ";return a.slice(0,Math.max(t.unitCount,1)).join(c)}return t.colonNotation?a.join(""):a.join(" ")}const Mn={class:"flex gap-1.5 text-c-1"},In={key:0},On={key:0},Nn={key:1},jn=G({__name:"ResponseMetaInformation",props:{response:{}},setup(e){const t=e,{events:a}=ie(),o=L(),l=L(0);a.requestStatus.on(n=>{n==="start"?o.value=setInterval(()=>l.value+=1e3,1e3):(clearInterval(o.value),o.value=void 0,l.value=0)});const u=n=>{var r,d;const i=parseInt(((r=n.headers)==null?void 0:r["Content-Length"])||((d=n.headers)==null?void 0:d["content-length"])||"0",10);return i?Vn(i):void 0},c=z(()=>{const n=t.response.status;if(n)return ha[n]??void 0});return(n,r)=>(m(),_("div",Mn,[o.value&&l.value?(m(),_("span",In,O(s(Xt)(l.value)),1)):(m(),_(ee,{key:1},[h("span",null,[r[0]||(r[0]=h("span",{class:"sr-only"},"Response Information, Duration:",-1)),Y(" "+O(s(Xt)(n.response.duration)),1)]),u(n.response)?(m(),_("span",On,[r[1]||(r[1]=h("span",{class:"sr-only"},", Size:",-1)),Y(" "+O(u(n.response)),1)])):A("",!0),c.value?(m(),_(ee,{key:1},[r[2]||(r[2]=h("span",{class:"sr-only"},", Status:",-1)),c.value.url?(m(),$(Ra,{key:0,class:"flex items-center gap-1.5",href:c.value.url},{default:b(()=>[Y(O(n.response.status)+" "+O(c.value.name)+" ",1),h("span",{class:"block h-1.5 w-1.5 rounded-full",style:Ve({backgroundColor:c.value.color})},null,4)]),_:1},8,["href"])):(m(),_("span",Nn,[Y(O(n.response.status)+" "+O(c.value.name)+" ",1),h("span",{class:"block h-1.5 w-1.5 rounded-full",style:Ve({backgroundColor:c.value.color})},null,4)]))],64)):A("",!0)],64))]))}}),Fn=G({__name:"ResponseBodyVirtual",props:{content:{},data:{},headers:{}},setup(e){const t=e,a=z(()=>wl(t.content)),{mimeType:o,attachmentFilename:l,dataUrl:u}=Sa({data:t.data,headers:t.headers});return(c,n)=>(m(),$(Pe,{class:"!max-h-100% overflow-x-auto response-body-virtual"},Le({title:b(()=>[n[0]||(n[0]=Y("Body"))]),default:b(()=>[n[1]||(n[1]=h("div",{class:"py-1.5 px-2.5 font-code text-xxs border-1/2 rounded-t border-b-0"}," This response body is massive! Syntax highlighting won’t work here. ",-1)),g(s(Xl),{containerClass:"custom-scroll scalar-code-block border-1/2 rounded-b flex flex-1 max-h-screen",contentClass:"language-plaintext whitespace-pre font-code text-base",lineHeight:20,text:a.value},null,8,["text"])]),_:2},[s(u)?{name:"actions",fn:b(()=>[g($a,{filename:s(l),href:s(u),type:s(o).essence},null,8,["filename","href","type"])]),key:"0"}:void 0]),1024))}}),Ln={class:"flex-1 px-2 py-1.5 whitespace-nowrap"},nt=G({__name:"DataTableText",props:{text:{}},setup(e){return(t,a)=>(m(),$(Me,{class:"relative flex"},{default:b(()=>[h("span",Ln,[he(t.$slots,"default",{},()=>[Y(O(t.text),1)])])]),_:3}))}}),Gn={key:1,class:"text-c-3 px-4 text-sm border-t-1/2 min-h-16 justify-center flex items-center bg-b-1"},Kn=G({__name:"ResponseCookies",props:{cookies:{}},setup(e){return(t,a)=>(m(),$(Pe,{defaultOpen:!1},{title:b(()=>a[0]||(a[0]=[Y("Cookies")])),default:b(()=>[(m(),_(ee,{key:0},[t.cookies.length?(m(),$(Ye,{key:0,class:"flex-1",columns:["",""]},{default:b(()=>[(m(!0),_(ee,null,me(t.cookies,o=>(m(),$(Re,{key:o.name},{default:b(()=>[g(nt,{text:o.name},null,8,["text"]),g(nt,{text:o.value},null,8,["text"])]),_:2},1024))),128))]),_:1})):(m(),_("div",Gn," No cookies "))],64))]),_:1}))}}),Yn=[{name:"Accept",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept"},{name:"Accept-CH",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-CH"},{name:"Accept-CH-Lifetime",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-CH-Lifetime"},{name:"Accept-Charset",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Charset"},{name:"Accept-Encoding",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Encoding"},{name:"Accept-Language",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Language"},{name:"Accept-Patch",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Patch"},{name:"Accept-Post",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Post"},{name:"Accept-Ranges",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Ranges"},{name:"Access-Control-Allow-Credentials",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials"},{name:"Access-Control-Allow-Headers",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Headers"},{name:"Access-Control-Allow-Methods",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Methods"},{name:"Access-Control-Allow-Origin",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin"},{name:"Access-Control-Expose-Headers",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Expose-Headers"},{name:"Access-Control-Max-Age",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Max-Age"},{name:"Access-Control-Request-Headers",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Request-Headers"},{name:"Access-Control-Request-Method",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Request-Method"},{name:"Age",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Age"},{name:"Allow",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Allow"},{name:"Alt-Svc",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Alt-Svc"},{name:"Alt-Used",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Alt-Used"},{name:"Authorization",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization"},{name:"Cache-Control",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control"},{name:"Clear-Site-Data",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Clear-Site-Data"},{name:"Connection",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Connection"},{name:"Content-Disposition",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition"},{name:"Content-DPR",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-DPR"},{name:"Content-Encoding",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Encoding"},{name:"Content-Language",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Language"},{name:"Content-Length",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Length"},{name:"Content-Location",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Location"},{name:"Content-Range",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Range"},{name:"Content-Security-Policy",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy"},{name:"Content-Security-Policy-Report-Only",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy-Report-Only"},{name:"Content-Type",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type"},{name:"Cookie",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cookie"},{name:"Critical-CH",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Critical-CH"},{name:"Cross-Origin-Embedder-Policy",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cross-Origin-Embedder-Policy"},{name:"Cross-Origin-Opener-Policy",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cross-Origin-Opener-Policy"},{name:"Cross-Origin-Resource-Policy",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cross-Origin-Resource-Policy"},{name:"Date",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Date"},{name:"Device-Memory",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Device-Memory"},{name:"Digest",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Digest"},{name:"DNT",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/DNT"},{name:"Downlink",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Downlink"},{name:"DPR",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/DPR"},{name:"Early-Data",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Early-Data"},{name:"ECT",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ECT"},{name:"ETag",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag"},{name:"Expect",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Expect"},{name:"Expect-CT",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Expect-CT"},{name:"Expires",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Expires"},{name:"Forwarded",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Forwarded"},{name:"From",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/From"},{name:"Host",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Host"},{name:"If-Match",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Match"},{name:"If-Modified-Since",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Modified-Since"},{name:"If-None-Match",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-None-Match"},{name:"If-Range",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Range"},{name:"If-Unmodified-Since",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Unmodified-Since"},{name:"Keep-Alive",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Keep-Alive"},{name:"Large-Allocation",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Large-Allocation"},{name:"Last-Modified",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified"},{name:"Link",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Link"},{name:"Location",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Location"},{name:"Max-Forwards",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Max-Forwards"},{name:"NEL",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/NEL"},{name:"Origin",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin"},{name:"Permissions-Policy",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Permissions-Policy"},{name:"Pragma",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Pragma"},{name:"Proxy-Authenticate",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Proxy-Authenticate"},{name:"Proxy-Authorization",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Proxy-Authorization"},{name:"Range",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Range"},{name:"Referer",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer"},{name:"Referrer-Policy",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy"},{name:"Retry-After",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After"},{name:"RTT",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/RTT"},{name:"Save-Data",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Save-Data"},{name:"Sec-CH-Prefers-Reduced-Motion",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-CH-Prefers-Reduced-Motion"},{name:"Sec-CH-Prefers-Reduced-Transparency",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-CH-Prefers-Reduced-Transparency"},{name:"Sec-CH-UA",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-CH-UA"},{name:"Sec-CH-UA-Arch",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Arch"},{name:"Sec-CH-UA-Bitness",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Bitness"},{name:"Sec-CH-UA-Full-Version",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Full-Version"},{name:"Sec-CH-UA-Full-Version-List",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Full-Version-List"},{name:"Sec-CH-UA-Mobile",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Mobile"},{name:"Sec-CH-UA-Model",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Model"},{name:"Sec-CH-UA-Platform",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Platform"},{name:"Sec-CH-UA-Platform-Version",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Platform-Version"},{name:"Sec-Fetch-Dest",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-Fetch-Dest"},{name:"Sec-Fetch-Mode",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-Fetch-Mode"},{name:"Sec-Fetch-Site",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-Fetch-Site"},{name:"Sec-Fetch-User",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-Fetch-User"},{name:"Sec-GPC",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-GPC"},{name:"Sec-Purpose",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-Purpose"},{name:"Sec-WebSocket-Accept",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Sec-WebSocket-Accept"},{name:"Server",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Server"},{name:"Server-Timing",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Server-Timing"},{name:"Service-Worker-Navigation-Preload",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Service-Worker-Navigation-Preload"},{name:"Set-Cookie",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie"},{name:"SourceMap",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/SourceMap"},{name:"Strict-Transport-Security",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security"},{name:"TE",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/TE"},{name:"Timing-Allow-Origin",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Timing-Allow-Origin"},{name:"Tk",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Tk"},{name:"Trailer",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Trailer"},{name:"Transfer-Encoding",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Transfer-Encoding"},{name:"Upgrade",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Upgrade"},{name:"Upgrade-Insecure-Requests",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Upgrade-Insecure-Requests"},{name:"User-Agent",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent"},{name:"Vary",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Vary"},{name:"Via",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Via"},{name:"Viewport-Width",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Viewport-Width"},{name:"Want-Digest",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Want-Digest"},{name:"Warning",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Warning"},{name:"Width",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Width"},{name:"WWW-Authenticate",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/WWW-Authenticate"},{name:"X-Content-Type-Options",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Content-Type-Options"},{name:"X-DNS-Prefetch-Control",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-DNS-Prefetch-Control"},{name:"Non-standard",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Non-standard"},{name:"X-Forwarded-For",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For"},{name:"Non-standard",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Non-standard"},{name:"X-Forwarded-Host",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-Host"},{name:"Non-standard",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Non-standard"},{name:"X-Forwarded-Proto",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-Proto"},{name:"Non-standard",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Non-standard"},{name:"X-Frame-Options",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options"},{name:"X-XSS-Protection",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-XSS-Protection"},{name:"Cf-Cache-Status",url:"https://developers.cloudflare.com/cache/concepts/default-cache-behavior/#cloudflare-cache-responses"},{name:"Cf-Ray",url:"https://developers.cloudflare.com/fundamentals/get-started/reference/http-request-headers/#cf-ray"},{name:"Report-To",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/report-to"},{name:"X-Cloud-Trace-Context",url:"https://cloud.google.com/trace/docs/trace-context#legacy-http-header"},{name:"Speculation-Rules",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Speculation-Rules"}],Zn={key:0,class:"border-t-1/2 border-b-1/2 max-h-[calc(100%-32px)] overflow-y-auto"},Xn={key:1,class:"text-c-3 px-4 text-sm border rounded min-h-12 justify-center flex items-center bg-b-1"},Qn=G({__name:"ResponseHeaders",props:{headers:{}},setup(e){const t=a=>Yn.find(o=>o.name.toLowerCase()===a.toLowerCase());return(a,o)=>(m(),$(Pe,{class:"overflow-auto",defaultOpen:!1,itemCount:a.headers.length},{title:b(()=>o[0]||(o[0]=[Y("Headers")])),default:b(()=>[a.headers.length?(m(),_("div",Zn,[g(Ye,{class:"!border-0 !mx-0",columns:["minmax(auto, min-content)","minmax(50%, 1fr)"],scroll:""},{default:b(()=>[(m(!0),_(ee,null,me(a.headers,l=>(m(),$(Re,{key:l.name,class:"text-c-1"},{default:b(()=>[g(nt,{class:"sticky left-0 z-1 bg-b-1 max-w-48"},{default:b(()=>{var u;return[typeof((u=t(l.name))==null?void 0:u.url)=="string"?(m(),$(Ra,{key:0,class:"decoration-c-3",href:t(l.name).url},{default:b(()=>[Y(O(l.name),1)]),_:2},1032,["href"])):(m(),_(ee,{key:1},[Y(O(l.name),1)],64))]}),_:2},1024),g(nt,{class:"z-0",text:l.value},null,8,["text"])]),_:2},1024))),128))]),_:1})])):(m(),_("div",Xn," No Headers "))]),_:1},8,["itemCount"]))}}),Jn={class:"flex items-center flex-1 h-8"},Qt=2e5,es=G({__name:"ResponseSection",props:{numWorkspaceRequests:{},response:{}},setup(e){const t=z(()=>{var c;const n=(c=e.response)==null?void 0:c.headers;return n?Object.keys(n).map(r=>({name:r,value:n[r]??"",required:!1})).filter(r=>!["rest-api-client-content-length","X-API-Client-Content-Length"].includes(r.name)):[]}),a=z(()=>{var c;return((c=e.response)==null?void 0:c.cookieHeaderKeys.flatMap(n=>{var r,d;const i=(d=(r=e.response)==null?void 0:r.headers)==null?void 0:d[n];return i?{name:n,value:i,required:!1}:[]}))??[]}),o=["All","Cookies","Headers","Body"],l=L("All"),u=z(()=>{var c,n;if(!e.response)return!1;const r=((c=e.response.headers)==null?void 0:c["content-type"])||((n=e.response.headers)==null?void 0:n["Content-Type"]);return!r||(e.response.size??0)<=Qt||r.includes("text/html")?!1:["text/","application/json","application/ld+json","application/problem+json","application/vnd.api+json","application/xml","application/atom+xml","application/rss+xml","application/problem+xml","application/javascript","application/ecmascript","application/x-yaml","application/yaml","application/x-httpd-php","application/x-sh","application/x-perl","application/x-python","application/x-ruby","application/x-java-source","application/x-www-form-urlencoded"].some(d=>r.includes(d))&&(e.response.size??0)>Qt});return(c,n)=>(m(),$(fa,{"aria-label":"Response"},{title:b(()=>[h("div",Jn,[h("div",{"aria-live":"polite",class:K(["flex items-center",{"animate-response-heading":c.response}])},[n[1]||(n[1]=h("span",{class:"response-heading absolute pointer-events-none"}," Response ",-1)),c.response?(m(),$(jn,{key:0,class:"animate-response-children",response:c.response},null,8,["response"])):A("",!0)],2),g(Ta,{activeSection:l.value,sections:o,onSetActiveSection:n[0]||(n[0]=r=>l.value=r)},null,8,["activeSection"])])]),default:b(()=>{var r,d,i;return[h("div",{class:K(["custom-scroll h-full relative grid justify-stretch",{"content-start":c.response}])},[c.response?(m(),_(ee,{key:1},[l.value==="All"||l.value==="Cookies"?(m(),$(Kn,{key:0,cookies:a.value},null,8,["cookies"])):A("",!0),l.value==="All"||l.value==="Headers"?(m(),$(Qn,{key:1,headers:t.value},null,8,["headers"])):A("",!0),l.value==="All"||l.value==="Body"?(m(),_(ee,{key:2},[u.value&&typeof((r=c.response)==null?void 0:r.data)=="string"?(m(),$(Fn,{key:0,content:c.response.data,data:(d=c.response)==null?void 0:d.data,headers:t.value},null,8,["content","data","headers"])):(m(),$(wn,{key:1,active:!0,data:(i=c.response)==null?void 0:i.data,headers:t.value,title:"Body"},null,8,["data","headers"]))],64)):A("",!0)],64)):(m(),$(Cn,{key:0,numWorkspaceRequests:c.numWorkspaceRequests},null,8,["numWorkspaceRequests"])),g(Rn)],2)]}),_:1}))}}),ts=ne(es,[["__scopeId","data-v-ec732740"]]),as=`         ,\\
         \\\\\\,_
          \\\` ,\\
     __,.-" =__)
   ."        )
,_/   ,    \\/\\_
\\_| )_-\\ \\_-\`
   \`-----\` \`--\``,ls=`         __
        // \\,_
          \\\` ,\\
     __,.-" =__)
   ."        )
,_/   ,    \\/\\ 
\\_| // /  /  /
   /  /    `,os={class:"font-medium m-0 flex gap-1.5 items-center whitespace-nowrap"},rs={class:"flex items-center justify-center h-4 w-4"},ns=G({__name:"EnvironmentSelector",setup(e){const{activeCollection:t,activeWorkspace:a,activeEnvironment:o}=Te(),{collectionMutators:l}=ie(),{layout:u}=we(),c=Se(),n=v=>{t.value&&a.value&&(l.edit(t.value.uid,"x-scalar-active-environment",v),a.value.activeEnvironmentId=v)},r=()=>{var v;return c.push({name:"environment",params:{environment:(v=a.value)==null?void 0:v.uid}})},d=z(()=>{const{value:v}=o,{value:f}=t;return(v==null?void 0:v.uid)||(f==null?void 0:f["x-scalar-active-environment"])||"No Environment"}),i=z(()=>{const{value:v}=t,f=v==null?void 0:v["x-scalar-environments"];return f?Object.entries(f).map(([w,B])=>({...B,uid:w,name:w})):[]}),p=v=>{const f=v["x-scalar-active-environment"];f&&t.value&&a.value?(t.value["x-scalar-active-environment"]=f,a.value.activeEnvironmentId=f):a.value&&(a.value.activeEnvironmentId="")};return ue(t,v=>v&&p(v)),be(()=>{t.value&&p(t.value)}),(v,f)=>(m(),_("div",null,[g(s(bt),{placement:"bottom-end"},{items:b(()=>[(m(!0),_(ee,null,me(i.value,w=>(m(),$(s($e),{key:w.uid,class:"flex gap-1.5 group/item items-center whitespace-nowrap text-ellipsis overflow-hidden",onClick:oe(B=>n(w.uid),["stop"])},{default:b(()=>{var B;return[g(s(ua),{selected:((B=s(t))==null?void 0:B["x-scalar-active-environment"])===w.uid},null,8,["selected"]),Y(" "+O(w.name),1)]}),_:2},1032,["onClick"]))),128)),g(s($e),{class:"flex gap-1.5 group/item items-center whitespace-nowrap text-ellipsis overflow-hidden",onClick:f[0]||(f[0]=oe(w=>n(""),["stop"]))},{default:b(()=>{var w,B;return[h("div",{class:K(["flex items-center justify-center rounded-full p-[3px] w-4 h-4",((w=s(o))==null?void 0:w.uid)===""&&((B=s(t))==null?void 0:B["x-scalar-active-environment"])===""?"bg-c-accent text-b-1":"shadow-border text-transparent"])},[g(s(X),{class:"size-2.5",icon:"Checkmark",thickness:"3"})],2),f[1]||(f[1]=Y(" No Environment "))]}),_:1}),g(s(da)),s(u)!=="modal"?(m(),$(s($e),{key:0,class:"flex items-center gap-1.5",onClick:r},{default:b(()=>[h("div",rs,[g(s(X),{icon:"Brackets",size:"sm"})]),f[2]||(f[2]=h("span",{class:"leading-none"},"Manage Environments",-1))]),_:1})):A("",!0)]),default:b(()=>[g(s(se),{class:"font-normal h-auto justify-start py-1.5 px-1.5 pl-2 text-c-1 hover:bg-b-2 w-fit",fullWidth:"",variant:"ghost"},{default:b(()=>[h("h2",os,O(d.value),1)]),_:1})]),_:1})]))}});function ss(){const e=Se(),{activeWorkspace:t,activeWorkspaceRequests:a,activeWorkspaceCollections:o}=Te(),{requests:l,tags:u}=ie(),c=L([]),n=L([]),r=L(0),d=L(""),i=L(null),p=L([]),v=new Sl(c.value,{keys:["title","description","body"]}),f=()=>{d.value="",r.value=0,n.value=[],i.value instanceof HTMLInputElement&&i.value.blur()},w=R=>{c.value=R.filter(W=>!rt(W)).filter(W=>{var x;const k=(x=o.value)==null?void 0:x.find(P=>P.requests.includes(W.uid));return!(k!=null&&k.tags.map(P=>u[P]).filter(Ae).filter(P=>{var D;return(D=W.tags)==null?void 0:D.includes(P.name)}).filter(P=>rt(P)).length)}).map(W=>{var x,k;return{id:W.uid,title:W.summary??W.method,description:W.description??"",httpVerb:W.method,path:W.path,link:(k=e==null?void 0:e.resolve({name:"request",params:{[de.Request]:W.uid,[de.Workspace]:(x=t.value)==null?void 0:x.uid}}))==null?void 0:k.href}}),v.setCollection(c.value)},B=()=>{r.value=0,n.value=v.search(d.value)};ue(d,R=>{R.length?B():n.value=[]});const S=R=>{const W=R==="up"?-1:1,x=H.value.length;r.value=(r.value+W+x)%x,je(()=>{const k=p.value[r.value];k instanceof HTMLElement&&k.scrollIntoView({behavior:"smooth",block:"center"})})},U=()=>{if(r.value>=0){const R=H.value[r.value];R&&y(R)}},T=z(()=>a.value.map(R=>l[R]).filter(Ae));ue(a,()=>{w(T.value)},{immediate:!0});const y=R=>{e.push(R.item.id),f()},H=z(()=>d.value.length===0?c.value.map(R=>({item:R})):n.value);return{searchText:d,searchResultsWithPlaceholderResults:H,selectedSearchResult:r,onSearchResultClick:y,fuseSearch:B,searchInputRef:i,searchResultRefs:p,navigateSearchResults:S,selectSearchResult:U,populateFuseDataArray:w}}function is(e,{collections:t,collectionMutators:a,tags:o,tagMutators:l,workspaceMutators:u}){const{layout:c}=we(),n=(r,d)=>{r.type==="collection"?a.edit(r.uid,"children",d):r.type==="tag"&&l.edit(r.uid,"children",d)};return{handleDragEnd:(r,d)=>{var i,p,v,f;if(!r||!d)return;const{id:w,parentId:B}=r,{id:S,parentId:U,offset:T}=d;if(B?t[B]?a.edit(B,"children",t[B].children.filter(y=>y!==w)):o[B]&&l.edit(B,"children",o[B].children.filter(y=>y!==w)):u.edit((i=e.value)==null?void 0:i.uid,"collections",((p=e.value)==null?void 0:p.collections.filter(y=>y!==w))??[]),T===2){const y=t[S]||o[S];y&&n(y,[...y.children??[],w])}else if(U){const y=t[U]||o[U];if(!y)return;const H=[...y.children??[]],R=H.findIndex(W=>S===W)??0;H.splice(R+T,0,w),n(y,H)}else{const y=[...((v=e.value)==null?void 0:v.collections)??[]],H=y.findIndex(R=>S===R)??0;y.splice(H+T,0,w),u.edit((f=e.value)==null?void 0:f.uid,"collections",y)}},isDroppable:(r,d)=>{var i,p;return!(c==="modal"||!t[r.id]&&d.offset!==2||t[r.id]&&((p=(i=t[d.id])==null?void 0:i.info)==null?void 0:p.title)==="Drafts")}}}const us={class:"flex text-sm"},ds={class:"grid grid-cols-[repeat(auto-fill,minmax(32px,1fr))] auto-rows-[32px] justify-between content-between rounded bg-b-1 border p-1 max-w-[420px] w-dvw custom-scroll"},cs=G({__name:"IconSelector",props:{modelValue:{},placement:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,o=t,l=z({get:()=>a.modelValue,set:u=>o("update:modelValue",u)});return(u,c)=>(m(),$(s(Tl),{class:"bg-b-2 rounded",placement:u.placement??"bottom"},{popover:b(({close:n})=>[g(s(Fl),{modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=r=>l.value=r),class:"flex flex-col"},{default:b(()=>[h("div",us,[g(s(Ot),{class:"text-c-2 py-1 px-1"},{default:b(()=>[he(u.$slots,"title",{},()=>[c[1]||(c[1]=Y("Select an icon"))])]),_:3})]),h("ul",ds,[(m(!0),_(ee,null,me(s(Ol),r=>(m(),$(s(Gl),{key:r.src,as:"li",class:"p-2 rounded flex items-center justify-center text-c-3 cursor-pointer hover:text-c-2 hover:bg-b-2 ui-checked:bg-b-3 ui-active:bg-b-2",value:r.src,onClick:n},{default:b(()=>[g(s(Ot),{class:"sr-only"},{default:b(()=>[Y(O(r.src.replaceAll("-"," "))+" Icon ",1)]),_:2},1024),g(s(Ht),{class:"stroke-[1.5]",src:r.src},null,8,["src"])]),_:2},1032,["value","onClick"]))),128))])]),_:2},1032,["modelValue"])]),default:b(()=>[he(u.$slots,"default")]),_:3},8,["placement"]))}}),ps={class:"grid gap-2 grid-cols-[auto,1fr]"},ms={class:"flex aspect-square"},vs=G({__name:"EditSidebarListCollection",props:{name:{},icon:{}},emits:["close","edit"],setup(e,{emit:t}){const a=e,o=t,l=L(a.name),u=L(a.icon);return(c,n)=>(m(),$(Dl,{onCancel:n[2]||(n[2]=r=>o("close")),onSubmit:n[3]||(n[3]=r=>o("edit",l.value,u.value))},{default:b(()=>[h("div",ps,[h("div",ms,[g(cs,{modelValue:u.value,"onUpdate:modelValue":n[0]||(n[0]=r=>u.value=r),placement:"bottom-start"},{default:b(()=>[g(s(se),{class:"aspect-square px-0 h-auto",variant:"outlined"},{default:b(()=>[g(s(Ht),{class:"size-4 text-c-2",src:u.value},null,8,["src"])]),_:1})]),_:1},8,["modelValue"])]),g(s(ma),{modelValue:l.value,"onUpdate:modelValue":n[1]||(n[1]=r=>l.value=r),autofocus:"",class:"flex-1"},null,8,["modelValue"])])]),_:1}))}}),fs=G({__name:"RequestSidebarItemMenu",props:{menuItem:{}},emits:["closeMenu","toggleWatchMode","clearDrafts"],setup(e,{emit:t}){const a=e,o=t,{replace:l}=Se(),{activeRouterParams:u,activeWorkspaceCollections:c,activeWorkspaceRequests:n}=Te(),{events:r,requestMutators:d}=ie(),i=Ne(),p=Ne(),v=Ne(),f=()=>{var R;return r.commandPalette.emit({commandName:"Add Example",metaData:{itemUid:(R=a.menuItem.item)==null?void 0:R.entity.uid}})},w=(R,W)=>{var x;(x=a.menuItem.item)==null||x.edit(R,W),i.hide()},B=()=>{var R,W,x;if((R=a.menuItem.item)==null||R.delete(),!n.value.length){const{request:k}=ca(),P=c.value.find(D=>{var j;return((j=D.info)==null?void 0:j.title)==="Drafts"});P&&(d.add(k,P.uid),l({name:"request",params:{[de.Request]:k.uid}}))}if(u.value[de.Request]===((W=a.menuItem.item)==null?void 0:W.entity.uid)&&l({name:"request",params:{[de.Request]:"default"}}),u.value[de.Examples]===((x=a.menuItem.item)==null?void 0:x.entity.uid)&&l({name:"request",params:{[de.Request]:"default"}}),c.value[0]){const k=c.value[0].requests[0];l({name:"request",params:{[de.Request]:k}})}p.hide()},S=L(null);ue([()=>a.menuItem.open,S],async([R])=>{var W,x;R&&(x=(W=S.value)==null?void 0:W.$parent)!=null&&x.$el&&S.value.$parent.$el.focus()});const U=()=>a.menuItem.open&&o("closeMenu");be(()=>window.addEventListener("click",U)),Ge(()=>window.removeEventListener("click",U));const T=()=>{o("toggleWatchMode",a.menuItem.item)},y=()=>{o("clearDrafts"),v.hide()},H=z(()=>{var R;return((R=a.menuItem.item)==null?void 0:R.title)==="Drafts"});return(R,W)=>{var x,k;return m(),_(ee,null,[R.menuItem.targetRef&&R.menuItem.open?(m(),$(s(sa),{key:0,placement:"right-start",target:R.menuItem.targetRef,teleport:""},{floating:b(()=>[g(s(kl),{onKeydown:W[3]||(W[3]=Oe(P=>R.$emit("closeMenu"),["escape"]))},{default:b(()=>{var P,D;return[((P=R.menuItem.item)==null?void 0:P.entity.type)==="request"?(m(),$(s(De),{key:0,class:"flex gap-2",onClick:f},{default:b(()=>[g(s(X),{class:"inline-flex",icon:"Example",size:"md",thickness:"1.5"}),W[8]||(W[8]=h("span",null,"Add Example",-1))]),_:1})):A("",!0),H.value?A("",!0):(m(),$(s(De),{key:1,ref_key:"menuRef",ref:S,class:"flex gap-2",onClick:W[0]||(W[0]=j=>s(i).show())},{default:b(()=>{var j;return[g(s(X),{class:"inline-flex",icon:"Edit",size:"md",thickness:"1.5"}),h("span",null,[((j=R.menuItem.item)==null?void 0:j.entity.type)==="collection"?(m(),_(ee,{key:0},[Y(" Edit ")],64)):(m(),_(ee,{key:1},[Y(" Rename ")],64))])]}),_:1},512)),(D=R.menuItem.item)!=null&&D.documentUrl?(m(),$(s(De),{key:2,ref_key:"menuRef",ref:S,class:"flex gap-2",onClick:T},{default:b(()=>{var j,I;return[g(s(X),{class:"inline-flex",icon:(j=R.menuItem.item)!=null&&j.watchMode?"Unwatch":"Watch",size:"md",thickness:"1.5"},null,8,["icon"]),h("span",null,O((I=R.menuItem.item)!=null&&I.watchMode?"Disable Watch Mode":"Enable Watch Mode"),1)]}),_:1},512)):A("",!0),H.value?A("",!0):(m(),$(s(De),{key:3,class:"flex gap-2",onClick:W[1]||(W[1]=j=>s(p).show())},{default:b(()=>[g(s(X),{class:"inline-flex",icon:"Delete",size:"md",thickness:"1.5"}),W[9]||(W[9]=h("span",null,"Delete",-1))]),_:1})),H.value?(m(),$(s(De),{key:4,class:"flex gap-2",onClick:W[2]||(W[2]=j=>s(v).show())},{default:b(()=>[g(s(X),{class:"inline-flex",icon:"Delete",size:"md",thickness:"1.5"}),W[10]||(W[10]=h("span",null,"Clear Drafts",-1))]),_:1})):A("",!0)]}),_:1})]),_:1},8,["target"])):A("",!0),g(s(Ee),{size:"xxs",state:s(p),title:`Delete ${(x=R.menuItem.item)==null?void 0:x.resourceTitle}`},{default:b(()=>{var P,D;return[g(wt,{variableName:((P=R.menuItem.item)==null?void 0:P.title)??"",warningMessage:(D=R.menuItem.item)==null?void 0:D.warning,onClose:W[4]||(W[4]=j=>s(p).hide()),onDelete:B},null,8,["variableName","warningMessage"])]}),_:1},8,["state","title"]),g(s(Ee),{size:"xxs",state:s(i),title:`Edit ${(k=R.menuItem.item)==null?void 0:k.resourceTitle}`},{default:b(()=>{var P,D,j,I;return[((P=R.menuItem.item)==null?void 0:P.resourceTitle)==="Collection"?(m(),$(vs,{key:0,icon:((D=R.menuItem.item)==null?void 0:D.icon)||"interface-content-folder",name:(j=R.menuItem.item)==null?void 0:j.title,onClose:W[5]||(W[5]=M=>s(i).hide()),onEdit:w},null,8,["icon","name"])):(m(),$(va,{key:1,name:((I=R.menuItem.item)==null?void 0:I.title)??"",onClose:W[6]||(W[6]=M=>s(i).hide()),onEdit:w},null,8,["name"]))]}),_:1},8,["state","title"]),g(s(Ee),{size:"xxs",state:s(v),title:"Clear Drafts"},{default:b(()=>[g(wt,{variableName:"All Drafts",warningMessage:"This action will clear all drafts. This cannot be undone.",onClose:W[7]||(W[7]=P=>s(v).hide()),onDelete:y})]),_:1},8,["state"])],64)}}}),hs=ne(fs,[["__scopeId","data-v-daf8ea6e"]]),bs=(e,t,a)=>{var o;const l=e.find(r=>{var d;return((d=r.info)==null?void 0:d.title)==="Drafts"}),u=t.length===1;if(!t[0])return!1;const c=l==null?void 0:l.requests.includes(t[0]);if(!c)return!1;const n=((o=a[(l==null?void 0:l.requests[0])??""])==null?void 0:o.summary)!=="My First Request";return u&&c&&!n},ye=L(null),He=L(null),gs=(e,t)=>{let a=!1;return(...o)=>{a||(e(...o),a=!0,setTimeout(()=>a=!1,t))}},ys=["draggable"],xs=G({__name:"Draggable",props:{ceiling:{default:.8},floor:{default:.2},isDraggable:{type:Boolean,default:!0},isDroppable:{type:[Boolean,Function],default:!0},parentIds:{},id:{}},emits:["onDragEnd","onDragStart"],setup(e,{expose:t,emit:a}){const o=a,l=z(()=>e.parentIds.at(-1)??null),u=p=>{!p.dataTransfer||!(p.target instanceof HTMLElement)||!e.isDraggable||(p.target.classList.add("dragging"),p.dataTransfer.dropEffect="move",p.dataTransfer.effectAllowed="move",ye.value={id:e.id,parentId:l.value},o("onDragStart",{id:e.id,parentId:l.value}))},c=p=>typeof e.isDroppable=="function"?e.isDroppable(ye.value,{id:e.id,parentId:l.value,offset:p}):e.isDroppable,n=gs(p=>{var v,f;if(!ye.value||ye.value.id===e.id||e.parentIds.includes(((v=ye.value)==null?void 0:v.id)??""))return;const w=(f=He.value)==null?void 0:f.offset,B=p.target.offsetHeight,S=e.floor*B,U=e.ceiling*B;let T=3;p.offsetY<=0&&w&&w!==3?T=w:p.offsetY<=S?T=0:p.offsetY>=U?T=1:p.offsetY>S&&p.offsetY<U&&(T=2),c(T)&&(He.value={id:e.id,parentId:l.value,offset:T})},25),r=["above","below","asChild"],d=z(()=>{var p;let v="sidebar-indent-nested";return e.id===((p=He.value)==null?void 0:p.id)&&(v+=` dragover-${r[He.value.offset]}`),v}),i=()=>{if(!He.value||!ye.value)return;const p={...ye.value},v={...He.value};ye.value=null,He.value=null,document.querySelectorAll("div.dragging").forEach(f=>f.classList.remove("dragging")),p.id!==v.id&&o("onDragEnd",p,v)};return t({draggingItem:ye,hoveredItem:He}),(p,v)=>(m(),_("div",{class:K(d.value),draggable:p.isDraggable,onDragend:i,onDragover:v[0]||(v[0]=oe((...f)=>s(n)&&s(n)(...f),["prevent","stop"])),onDragstart:oe(u,["stop"])},[he(p.$slots,"default",{},void 0,!0)],42,ys))}}),ws=(e,t)=>{const a=e.__vccOpts||e;for(const[o,l]of t)a[o]=l;return a},Ss=ws(xs,[["__scopeId","data-v-3449bf19"]]),Ts={class:"line-clamp-1 w-full break-all pl-2 font-medium"},ks={class:"flex flex-row items-center gap-1"},Hs={class:"relative"},Us={class:"flex items-start"},Cs=["aria-expanded"],$s={class:"flex h-5 max-w-[14px] items-center justify-center"},Ps={class:"flex flex-1 flex-row justify-between"},Rs={class:"line-clamp-1 w-full break-all text-left font-medium"},_s={class:"relative flex h-fit justify-end"},zs={class:"w-content bg-b-1 z-100 text-xxs text-c-1 pointer-events-none z-10 grid max-w-10 gap-1.5 rounded p-2 leading-5 shadow-lg"},Ws={class:"text-c-2 flex items-center"},Es={class:"text-pretty break-all"},Bs={key:2},Jt="hover:bg-sidebar-active-b indent-padding-left",Vs=G({__name:"RequestSidebarItem",props:{isDraggable:{type:Boolean,default:!1},isDroppable:{type:[Boolean,Function],default:!1},parentUids:{},uid:{},menuItem:{}},emits:["onDragEnd","newTab","openMenu"],setup(e,{emit:t}){Hl(C=>({"0ff55690":W.value,ecb155a4:x.value}));const a=t,{activeCollection:o,activeRequest:l,activeRouterParams:u,activeWorkspace:c}=Te(),{collections:n,tags:r,requests:d,requestExamples:i,collectionMutators:p,tagMutators:v,requestMutators:f,requestExampleMutators:w,events:B}=ie(),S=Se(),{collapsedSidebarFolders:U,toggleSidebarFolder:T}=pa(),{layout:y}=we(),H=z(()=>{var C,E,ae,J;const Q=n[e.uid],q=r[e.uid],V=d[e.uid],N=i[e.uid];return Q?{title:((C=Q.info)==null?void 0:C.title)??"Unknown title",entity:Q,resourceTitle:"Collection",children:Q.children,icon:Q["x-scalar-icon"],documentUrl:Q.documentUrl,watchMode:Q.watchMode,warning:"This cannot be undone. You’re about to delete the collection and all folders and requests inside it.",edit:(le,te)=>{p.edit(Q.uid,"info.title",le),te&&p.edit(Q.uid,"x-scalar-icon",te)},delete:()=>{c.value&&p.delete(Q,c.value)}}:q?{title:q.name,entity:q,resourceTitle:"Tag",children:q.children,warning:"This cannot be undone. You’re about to delete the tag and all requests inside it",edit:le=>v.edit(q.uid,"name",le),delete:()=>e.parentUids[0]&&v.delete(q,e.parentUids[0])}:V?{title:V.summary??V.path,link:{name:"request",params:{workspace:(E=c.value)==null?void 0:E.uid,request:V.uid}},method:V.method,entity:V,resourceTitle:"Request",warning:"This cannot be undone. You’re about to delete the request.",children:V.examples.slice(1),edit:le=>f.edit(V.uid,"summary",le),delete:()=>e.parentUids[0]&&f.delete(V,e.parentUids[0])}:N!=null&&N.requestUid?{title:N.name,link:{name:"request.examples",params:{workspace:(ae=c.value)==null?void 0:ae.uid,request:N.requestUid,examples:N.uid}},method:(J=d[N.requestUid])==null?void 0:J.method,entity:N,resourceTitle:"Example",warning:"This cannot be undone. You’re about to delete the example from the request.",children:[],edit:le=>w.edit(N.uid,"name",le),delete:()=>w.delete(N)}:{title:"Unknown",entity:{uid:"",type:"unknown"},resourceTitle:"Unknown",children:[],edit:()=>null,delete:()=>null}}),R=z(()=>H.value.entity.type==="collection"&&H.value.title==="Drafts"),W=z(()=>e.parentUids.length?y==="modal"?`${(e.parentUids.length-1)*12}px`:`${e.parentUids.length*12}px`:"12px"),x=z(()=>e.parentUids.length?y==="modal"?`${(e.parentUids.length-1)*12}px`:`${e.parentUids.length*12}px`:"0px"),k=z(()=>{var C;return U[e.uid]||((C=l.value)==null?void 0:C.uid)===e.uid&&H.value.entity.examples.length>1}),P=z(()=>{var C;return u.value[de.Request]==="default"&&((C=l.value)==null?void 0:C.uid)===e.uid}),D=L(null),j=z(()=>{let C=.5,E=.5;if(!D.value)return{ceiling:C,floor:E};const{draggingItem:ae}=D.value;return!n[ae==null?void 0:ae.id]&&H.value.entity.type==="collection"?(C=1,E=0):H.value.entity.type==="tag"&&(C=.8,E=.2),{ceiling:C,floor:E}}),I=(C,E)=>!(y==="modal"||i[E.id]||n[C.id]),M=(C,E)=>{C&&($l(["default"]).some(ae=>C[ae])?a("newTab",E.title||"",E.entity.uid):E.link&&S.push(E.link))};function F(){B.commandPalette.emit({commandName:"Create Request",metaData:{itemUid:e.uid,parentUid:e.parentUids[0]}})}const re=z(()=>{const{uid:C,watchModeStatus:E}=o.value||{};return C!==H.value.entity.uid?"text-c-3":E==="WATCHING"?"text-c-1":E==="ERROR"?"text-red":"text-c-3"}),Z=z(()=>H.value.title=="Drafts"&&y!=="modal"&&H.value.children.length>0),ce=z(()=>{const C=d[e.uid];if(C)return!rt(C);const E=r[e.uid];return E?!rt(E):!0});return(C,E)=>{const ae=ra("RequestSidebarItem",!0);return ce.value?(m(),_("li",{key:0,class:K(["relative flex flex-row",[s(y)==="modal"&&C.parentUids.length>1||s(y)!=="modal"&&C.parentUids.length?"before:bg-border before:z-1 indent-border-line-offset mb-[.5px] before:pointer-events-none before:absolute before:left-[calc(.75rem_+_.5px)] before:top-0 before:h-[calc(100%_+_.5px)] before:w-[.5px] last:mb-0 last:before:h-full":""]])},[g(s(Ss),{id:H.value.entity.uid,ref_key:"draggableRef",ref:D,ceiling:j.value.ceiling,class:"gap-1/2 flex flex-1 flex-col text-sm",floor:j.value.floor,isDraggable:C.isDraggable,isDroppable:C.isDroppable,parentIds:C.parentUids,onOnDragEnd:E[9]||(E[9]=(...J)=>C.$emit("onDragEnd",...J))},{default:b(()=>{var J;return[H.value.link?(m(),$(s(Ul),{key:0,class:"group no-underline",to:H.value.link,onClick:E[1]||(E[1]=oe(Q=>M(Q,H.value),["prevent"]))},{default:b(({isExactActive:Q})=>{var q,V;return[h("div",{class:K(["relative flex min-h-8 w-full cursor-pointer flex-row items-start justify-between gap-0.5 rounded py-1.5 pr-2",[Jt,Q||P.value?"bg-sidebar-active-b text-sidebar-active-c transition-none":"text-sidebar-c-2"]])},[h("span",Ts,O(H.value.title),1),h("div",ks,[h("div",Hs,[s(y)!=="modal"?(m(),$(s(se),{key:0,class:K(["hover:bg-b-3 hidden aspect-square h-fit px-0.5 py-0 opacity-0 group-hover:flex group-hover:opacity-100 group-focus-visible:opacity-100 group-has-[:focus-visible]:opacity-100",{flex:((V=(q=C.menuItem)==null?void 0:q.item)==null?void 0:V.entity.uid)===H.value.entity.uid&&C.menuItem.open}]),size:"sm",type:"button",variant:"ghost",onClick:E[0]||(E[0]=oe(N=>C.$emit("openMenu",{item:H.value,parentUids:C.parentUids,targetRef:N.currentTarget,open:!C.menuItem.open}),["stop","prevent"]))},{default:b(()=>[g(s(X),{icon:"Ellipses",size:"md"})]),_:1},8,["class"])):A("",!0)]),h("span",Us,[E[10]||(E[10]=Y("   ")),E[11]||(E[11]=h("span",{class:"sr-only"},"HTTP Method:",-1)),H.value.method?(m(),$(s(Ze),{key:0,class:"font-bold",method:H.value.method},null,8,["method"])):A("",!0)])])],2)]}),_:1},8,["to"])):s(y)!=="modal"||C.parentUids.length?(m(),_("button",{key:1,"aria-expanded":!!s(U)[H.value.entity.uid],class:K(["hover:bg-b-2 group relative flex w-full flex-row justify-start gap-1.5 rounded p-1.5 focus-visible:z-10",[Jt]]),type:"button",onClick:E[4]||(E[4]=Q=>s(T)(H.value.entity.uid))},[h("span",$s,[he(C.$slots,"leftIcon",{},()=>[g(s(Cl),{class:"text-c-3 hover:text-c-1 shrink-0",open:!!s(U)[H.value.entity.uid]},null,8,["open"])],!0),E[12]||(E[12]=Y("   "))]),h("div",Ps,[h("span",Rs,O(H.value.title),1),h("div",_s,[h("div",{class:K(["items-center gap-px opacity-0 group-hover:flex group-hover:opacity-100 group-focus-visible:opacity-100 group-has-[:focus-visible]:opacity-100",{flex:C.menuItem.open,hidden:!C.menuItem.open||((J=C.menuItem.item)==null?void 0:J.entity.uid)!==H.value.entity.uid}])},[s(y)!=="modal"&&!R.value||R.value&&Z.value?(m(),$(s(se),{key:0,class:"hover:bg-b-3 hover:text-c-1 aspect-square h-fit px-0.5 py-0 group-focus-visible:opacity-100 group-has-[:focus-visible]:opacity-100",size:"sm",variant:"ghost",onClick:E[2]||(E[2]=oe(Q=>C.$emit("openMenu",{item:H.value,parentUids:C.parentUids,targetRef:Q.currentTarget.parentNode,open:!0}),["stop","prevent"]))},{default:b(()=>[g(s(X),{icon:"Ellipses",size:"md"})]),_:1})):A("",!0),s(y)!=="modal"?(m(),$(s(se),{key:1,class:"hover:bg-b-3 hover:text-c-1 aspect-square h-fit px-0.5 py-0 group-focus-visible:opacity-100 group-has-[:focus-visible]:opacity-100",size:"sm",variant:"ghost",onClick:E[3]||(E[3]=oe(Q=>F(),["stop","prevent"]))},{default:b(()=>[g(s(X),{icon:"Add",size:"md",thickness:"2"})]),_:1})):A("",!0)],2),H.value.watchMode?(m(),$(s(Ke),{key:0,side:"right",sideOffset:12},{trigger:b(()=>[g(s(X),{class:K(["ml-0.5 text-sm",re.value]),icon:"Watch",size:"md",thickness:"2"},null,8,["class"])]),content:b(()=>[h("div",zs,[h("div",Ws,[h("p",Es," Watching: "+O(H.value.documentUrl),1)])])]),_:1})):A("",!0),E[13]||(E[13]=h("span",null," ",-1))])])],10,Cs)):A("",!0),k.value?(m(),_("ul",Bs,[(m(!0),_(ee,null,me(H.value.children,Q=>(m(),$(ae,{key:Q,isDraggable:!s(i)[Q],isDroppable:I,menuItem:C.menuItem,parentUids:[...C.parentUids,C.uid],uid:Q,onNewTab:E[5]||(E[5]=(q,V)=>C.$emit("newTab",q,V)),onOnDragEnd:E[6]||(E[6]=(...q)=>C.$emit("onDragEnd",...q)),onOpenMenu:E[7]||(E[7]=q=>C.$emit("openMenu",q))},null,8,["isDraggable","menuItem","parentUids","uid"]))),128)),H.value.children.length===0?(m(),$(s(se),{key:0,class:K(["text-c-1 hover:bg-b-2 flex h-8 w-full justify-start gap-1.5 py-0 text-xs",C.parentUids.length?"pl-9":""]),variant:"ghost",onClick:E[8]||(E[8]=Q=>F())},{default:b(()=>[g(s(X),{icon:"Add",size:"sm"}),E[14]||(E[14]=h("span",null,"Add Request",-1))]),_:1},8,["class"])):A("",!0)])):A("",!0)]}),_:3},8,["id","ceiling","floor","isDraggable","isDroppable","parentIds"])],2)):A("",!0)}}}),As=ne(Vs,[["__scopeId","data-v-682d438e"]]),qs={class:"flex w-[inherit] items-center text-sm"},Ds={class:"m-0 flex items-center gap-1.5 font-bold"},Ms={class:"line-clamp-1 text-left"},Is={class:"overflow-hidden text-ellipsis"},Os={class:"flex h-4 w-4 items-center justify-center"},Ns=G({__name:"WorkspaceDropdown",setup(e){const{activeWorkspace:t}=Te(),{workspaces:a,workspaceMutators:o,events:l}=ie(),{push:u}=Se(),c=U=>{var T;U!==((T=t.value)==null?void 0:T.uid)&&u({name:"workspace",params:{workspace:U}})},n=z(()=>Object.keys(a).length===1),r=()=>l.commandPalette.emit({commandName:"Create Workspace"}),d=L(""),i=L(""),p=Ne(),v=Ne(),f=U=>{const T=a[U];T&&(d.value=T.name,i.value=U,p.show())},w=U=>{U.trim()&&(o.edit(i.value,"name",U.trim()),p.hide())},B=U=>{const T=a[U];T&&(d.value=T.name,i.value=U,v.show())},S=async()=>{var U;if(!n.value){const T=((U=t.value)==null?void 0:U.uid)===i.value,y={...a};if(delete y[i.value],o.delete(i.value),T){const H=Object.keys(y)[0];await u({name:"workspace",params:{workspace:H}})}}v.hide()};return(U,T)=>(m(),_("div",null,[h("div",qs,[g(s(bt),null,{items:b(()=>[(m(!0),_(ee,null,me(s(a),(y,H)=>(m(),$(s($e),{key:H,class:"group/item flex w-full items-center gap-1.5 overflow-hidden text-ellipsis whitespace-nowrap",onClick:oe(R=>c(y.uid),["stop"])},{default:b(()=>{var R;return[g(s(ua),{selected:((R=s(t))==null?void 0:R.uid)===H},null,8,["selected"]),h("span",Is,O(y.name),1),g(s(bt),{placement:"right-start",teleport:""},{items:b(()=>[g(s($e),{class:"flex gap-2",onMousedown:W=>f(y.uid),onTouchend:oe(W=>f(y.uid),["prevent"])},{default:b(()=>[g(s(X),{class:"inline-flex",icon:"Edit",size:"md",thickness:"1.5"}),T[4]||(T[4]=h("span",null,"Rename",-1))]),_:2},1032,["onMousedown","onTouchend"]),n.value?(m(),$(s(Ke),{key:0,class:"z-overlay",side:"bottom"},{trigger:b(()=>[g(s($e),{class:"flex w-full gap-2",disabled:"",onMousedown:T[0]||(T[0]=oe(()=>{},["prevent"])),onTouchend:T[1]||(T[1]=oe(()=>{},["prevent"]))},{default:b(()=>[g(s(X),{class:"inline-flex",icon:"Delete",size:"md",thickness:"1.5"}),T[5]||(T[5]=h("span",null,"Delete",-1))]),_:1})]),content:b(()=>T[6]||(T[6]=[h("div",{class:"w-content bg-b-1 text-xxs text-c-1 pointer-events-none z-10 grid min-w-48 gap-1.5 rounded p-2 leading-5 shadow-lg"},[h("div",{class:"text-c-2 flex items-center"},[h("span",null,"Only workspace cannot be deleted.")])],-1)])),_:1})):(m(),$(s($e),{key:1,class:"flex !gap-2",onMousedown:oe(W=>B(y.uid),["prevent"]),onTouchend:oe(W=>B(y.uid),["prevent"])},{default:b(()=>[g(s(X),{class:"inline-flex",icon:"Delete",size:"sm",thickness:"1.5"}),T[7]||(T[7]=h("span",null,"Delete",-1))]),_:2},1032,["onMousedown","onTouchend"]))]),default:b(()=>[g(s(se),{class:"hover:bg-b-3 -mr-1 ml-auto aspect-square h-fit px-0.5 py-0 group-hover/item:flex",size:"sm",type:"button",variant:"ghost"},{default:b(()=>[g(s(X),{icon:"Ellipses",size:"sm"})]),_:1})]),_:2},1024)]}),_:2},1032,["onClick"]))),128)),g(s(da)),g(s($e),{class:"flex items-center gap-1.5",onClick:r},{default:b(()=>[h("div",Os,[g(s(X),{icon:"Add",size:"sm"})]),T[8]||(T[8]=h("span",null,"Create Workspace",-1))]),_:1})]),default:b(()=>[g(s(se),{class:"text-c-1 hover:bg-b-2 line-clamp-1 h-full w-fit justify-start px-1.5 py-1.5 font-normal",fullWidth:"",variant:"ghost"},{default:b(()=>{var y;return[h("div",Ds,[h("h2",Ms,O((y=s(t))==null?void 0:y.name),1)])]}),_:1})]),_:1})]),g(s(Ee),{size:"xxs",state:s(v),title:"Delete workspace"},{default:b(()=>[g(wt,{variableName:d.value,warningMessage:"This cannot be undone. You’re about to delete the workspace and everything inside it.",onClose:T[2]||(T[2]=y=>s(v).hide()),onDelete:S},null,8,["variableName"])]),_:1},8,["state"]),g(s(Ee),{size:"xxs",state:s(p),title:"Rename Workspace"},{default:b(()=>[g(va,{name:d.value,onClose:T[3]||(T[3]=y=>s(p).hide()),onEdit:w},null,8,["name"])]),_:1},8,["state"])]))}}),js={class:"bg-b-1 sticky top-0 z-20 flex h-12 items-center px-3"},Fs={key:1,class:"text-c-3"},Ls={class:"search-button-fade sticky top-12 z-10 px-3 py-2.5 pt-0 focus-within:z-20",role:"search"},Gs={key:1,class:"contents"},Ks={class:"empty-sidebar-item-content px-2.5 py-2.5"},Ys={class:"rabbit-ascii relative m-auto mt-2 h-[68px] w-[60px]"},Zs=G({__name:"RequestSidebar",props:{isSidebarOpen:{type:Boolean}},emits:["update:modelValue","update:isSidebarOpen","newTab","clearDrafts"],setup(e,{emit:t}){const a=e,o=t,{layout:l}=we(),u=ie(),{activeWorkspaceCollections:c,activeRequest:n,activeWorkspaceRequests:r,activeWorkspace:d}=Te(),{findRequestParents:i,events:p,requestMutators:v,requests:f}=u,{handleDragEnd:w,isDroppable:B}=is(d,u),{collapsedSidebarFolders:S,setCollapsedSidebarFolder:U}=pa(),{replace:T}=Se(),y=()=>{p.commandPalette.emit({commandName:"Import from OpenAPI/Swagger/Postman"})},H=kt(),{toast:R}=st(),W=Pl({open:!1}),x=L(!1);ue(n,q=>{q&&i(q).forEach(V=>U(V,!0))},{immediate:!0});const{searchText:k,searchResultsWithPlaceholderResults:P,selectedSearchResult:D,onSearchResultClick:j,fuseSearch:I,searchInputRef:M,searchResultRefs:F,navigateSearchResults:re,selectSearchResult:Z}=ss(),ce=q=>{var V;q&&(q.toggleSidebar&&o("update:isSidebarOpen",a.isSidebarOpen),q.focusRequestSearch&&((V=M.value)==null||V.focus()))};be(()=>p.hotKeys.on(ce)),Ge(()=>{p.hotKeys.off(ce)});const C=q=>{if(q!=null&&q.documentUrl){q.watchMode=!q.watchMode;const V=c.value.find(N=>N.uid===q.entity.uid);V&&(V.watchMode=q.watchMode)}};ue(()=>c.value.map(q=>q.watchMode),(q,V)=>{q.forEach((N,le)=>{var te,ve,ke;if(l!=="modal"&&N!==V[le]&&((ve=(te=c.value[le])==null?void 0:te.info)==null?void 0:ve.title)!=="Drafts"&&c.value[le]){const ge=c.value[le];if(!ge)return;const qe=`${(ke=ge.info)==null?void 0:ke.title}: Watch Mode ${N?"enabled":"disabled"}`;R(qe,"info")}})});const E=z(()=>{var q;const V=P.value[D.value];return(q=V==null?void 0:V.item)!=null&&q.id?`#search-input-${V.item.id}`:void 0}),ae=()=>{const q=c.value.find(V=>{var N;return((N=V.info)==null?void 0:N.title)==="Drafts"});if(q&&q.requests.forEach(V=>{f[V]&&v.delete(f[V],q.uid)}),r.value.length){const V=c.value[0],N=V==null?void 0:V.requests[0];N&&T({name:"request",params:{[de.Request]:N}})}else{const{request:V}=ca();q&&(v.add(V,q.uid),T({name:"request",params:{[de.Request]:V.uid}}))}},J=()=>{x.value||(k.value=""),x.value&&je(()=>{var q;(q=M.value)==null||q.focus()}),x.value=!x.value},Q=z(()=>bs(c.value,r.value,f));return(q,V)=>(m(),_(ee,null,[xe(g(s(Il),{class:K([q.isSidebarOpen?"sidebar-active-width":""]),isSidebarOpen:q.isSidebarOpen,"onUpdate:isSidebarOpen":V[9]||(V[9]=N=>q.$emit("update:isSidebarOpen",N))},Le({content:b(()=>[h("div",js,[g(Ca,{class:K(["xl:hidden",[{"!flex":s(l)==="modal"}]]),modelValue:q.isSidebarOpen,"onUpdate:modelValue":V[0]||(V[0]=N=>q.$emit("update:isSidebarOpen",N))},null,8,["class","modelValue"]),s(l)!=="modal"?(m(),$(s(Ns),{key:0})):A("",!0),s(l)!=="modal"?(m(),_("span",Fs," / ")):A("",!0),s(l)!=="modal"?(m(),$(ns,{key:2})):A("",!0),h("button",{class:"ml-auto",type:"button",onClick:J},[g(s(X),{class:"text-c-3 hover:bg-b-2 p-1.75 max-h-8 max-w-8 rounded-lg text-sm",icon:"Search"})])]),xe(h("div",Ls,[g(s(Rl),{ref_key:"searchInputRef",ref:M,modelValue:s(k),"onUpdate:modelValue":V[1]||(V[1]=N=>_l(k)?k.value=N:null),"aria-activedescendant":E.value,"aria-controls":s(H),sidebar:"",onInput:s(I),onKeydown:[V[2]||(V[2]=Oe(oe(N=>s(re)("down"),["stop"]),["down"])),V[3]||(V[3]=Oe(oe(N=>s(Z)(),["stop"]),["enter"])),V[4]||(V[4]=Oe(oe(N=>s(re)("up"),["stop"]),["up"]))]},null,8,["modelValue","aria-activedescendant","aria-controls","onInput"])],512),[[Ce,x.value]]),h("div",{class:K(["gap-1/2 flex flex-1 flex-col overflow-visible overflow-y-auto px-3 pb-3 pt-0",[{"pb-14":s(l)!=="modal"},{"h-[calc(100%-273.5px)]":Q.value}]]),onDragenter:V[7]||(V[7]=oe(()=>{},["prevent"])),onDragover:V[8]||(V[8]=oe(()=>{},["prevent"]))},[s(k)?(m(),$(s(zl),{key:0,id:s(H),"aria-label":"Search Results",class:"gap-px",noResults:!s(P).length},{default:b(()=>[(m(!0),_(ee,null,me(s(P),(N,le)=>(m(),$(s(Wl),{id:`#search-input-${N.item.id}`,key:N.refIndex,ref_for:!0,ref:te=>s(F)[le]=te,active:s(D)===le,class:"px-2",href:N.item.link,onClick:oe(te=>s(j)(N),["prevent"]),onFocus:te=>D.value=le},{addon:b(()=>[V[11]||(V[11]=h("span",{class:"sr-only"},"HTTP Method:",-1)),g(Ze,{class:"font-bold",method:N.item.httpVerb??"get"},null,8,["method"])]),default:b(()=>[Y(O(N.item.title)+" ",1)]),_:2},1032,["id","active","href","onClick","onFocus"]))),128))]),_:1},8,["id","noResults"])):(m(),_("nav",Gs,[(m(!0),_(ee,null,me(s(c),N=>{var le;return m(),$(As,{key:N.uid,isDraggable:s(l)!=="modal"&&((le=N.info)==null?void 0:le.title)!=="Drafts",isDroppable:s(B),menuItem:W,parentUids:[],uid:N.uid,onNewTab:V[5]||(V[5]=(te,ve)=>o("newTab",{name:te,uid:ve})),onOnDragEnd:s(w),onOpenMenu:V[6]||(V[6]=te=>Object.assign(W,te))},{leftIcon:b(()=>{var te;return[((te=N.info)==null?void 0:te.title)==="Drafts"?(m(),$(s(X),{key:0,class:"text-sidebar-c-2 group-hover:hidden",icon:"Scribble",thickness:"2.25"})):(m(),$(s(Ht),{key:1,class:"text-sidebar-c-2 size-3.5 min-w-3.5 stroke-2 group-hover:hidden",src:N["x-scalar-icon"]||"interface-content-folder"},null,8,["src"])),h("div",{class:K({"rotate-90":s(S)[N.uid]})},[g(s(X),{class:"text-c-3 hover:text-c-1 hidden text-sm group-hover:block",icon:"ChevronRight",size:"md"})],2)]}),_:2},1032,["isDraggable","isDroppable","menuItem","uid","onOnDragEnd"])}),128))]))],34)]),button:b(()=>[h("div",{class:K({"empty-sidebar-item":Q.value})},[h("div",Ks,[h("div",Ys,[g(yt,{art:s(as),class:"rabbitsit font-bold"},null,8,["art"]),g(yt,{art:s(ls),class:"rabbitjump absolute left-0 top-0 font-bold"},null,8,["art"])]),V[12]||(V[12]=h("div",{class:"mb-2 mt-2 text-balance text-center text-sm"},[h("b",{class:"font-medium"},"Let's Get Started"),h("p",{class:"mt-2"}," Create request, folder, collection or import from OpenAPI/Postman ")],-1))]),s(l)!=="modal"?(m(),$(s(se),{key:0,class:K(["mb-1.5 hidden h-fit w-full p-1.5 opacity-0",{"flex opacity-100":Q.value}]),onClick:y},{default:b(()=>V[13]||(V[13]=[Y(" Import Collection ")])),_:1},8,["class"])):A("",!0),s(l)!=="modal"?(m(),$(Ml,{key:1,click:s(p).commandPalette.emit,hotkey:"K"},{title:b(()=>V[14]||(V[14]=[Y(" Add Item ")])),_:1},8,["click"])):A("",!0)],2)]),_:2},[s(l)!=="modal"?{name:"header",fn:b(()=>[]),key:"0"}:void 0]),1032,["class","isSidebarOpen"]),[[Ce,q.isSidebarOpen]]),s(l)!=="modal"&&W?(m(),$(hs,{key:0,menuItem:W,onClearDrafts:ae,onCloseMenu:V[10]||(V[10]=N=>W.open=!1),onToggleWatchMode:C},null,8,["menuItem"])):A("",!0)],64))}}),Xs=ne(Zs,[["__scopeId","data-v-b7bf7c07"]]),Qs=(e,t=!1)=>{var a,o;const l=Object.fromEntries(e);t&&["Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers"].map(n=>n.toLowerCase()).forEach(n=>delete l[n]);const u=Object.keys(l).find(n=>n.toLowerCase()==="x-scalar-modified-headers"),c=u?((o=(a=l[u])==null?void 0:a.toString().split(", "))==null?void 0:o.map(n=>n.toLowerCase()))??[]:[];return Object.keys(l).forEach(n=>{c.includes(n.toLowerCase())&&delete l[n]}),u&&delete l[u],Object.keys(l).forEach(n=>{const r=/^x-scalar-original-/i;if(r.test(n)){const d=n.replace(r,"");l[n]&&(l[d]=l[n],delete l[n])}}),Object.keys(l).forEach(n=>{const r=Js(n);n!==r&&l[n]&&(l[r]=l[n],delete l[n])}),Object.fromEntries(Object.entries(l).sort(([n],[r])=>n.localeCompare(r)))},Js=e=>e.split("-").map(t=>t.charAt(0).toUpperCase()+t.toLowerCase().slice(1)).join("-");function ei(e,t,a){var o,l,u;if(!Ie(e))return{body:void 0,contentType:void 0};if(t.body.activeBody==="formData"&&t.body.formData){const c=t.body.formData.encoding==="form-data"?"multipart/form-data":"application/x-www-form-urlencoded",n=t.body.formData.encoding==="form-data"?new FormData:new URLSearchParams;return t.body.formData.value.forEach(r=>{!r.enabled||!r.key||(r.file&&n instanceof FormData?n.append(r.key,r.file,r.file.name):r.value!==void 0&&n.append(r.key,fe(r.value,a)))}),{body:n,contentType:c}}return t.body.activeBody==="raw"?{body:fe(((o=t.body.raw)==null?void 0:o.value)??"",a),contentType:(l=t.body.raw)==null?void 0:l.encoding}:t.body.activeBody==="binary"?{body:t.body.binary,contentType:(u=t.body.binary)==null?void 0:u.type}:{body:void 0,contentType:void 0}}function ti(e,t){const a={};return e.parameters.headers.forEach(o=>{const l=o.key.trim().toLowerCase();o.enabled&&(l!=="content-type"||o.value!=="multipart/form-data")&&(a[l]=fe(o.value,t))}),a}function ai(e,t){const a=new URLSearchParams;return e.parameters.query.forEach(o=>{o.enabled&&(o.type==="array"?fe(o.value??"",t).split(","):[fe(o.value??"",t)]).forEach(l=>a.append(o.key,l.trim()))}),a}function li(e,t){const a=new oa(t);return Qr.includes(a.essence)?new TextDecoder(a.parameters.get("charset")).decode(e):new Blob([e],{type:a.essence})}const oi=({environment:e,example:t,globalCookies:a,proxyUrl:o,request:l,securitySchemes:u,selectedSecuritySchemeUids:c=[],server:n,status:r})=>{try{const d=e??{},i=new AbortController,p=t.parameters.path.reduce((I,M)=>(M.enabled&&(I[M.key]=fe(M.value,d)),I),{}),v=fe((n==null?void 0:n.url)??"",d),f=fe(l.path,p);let w=v||f;if(!w)throw gt.URL_EMPTY;Object.entries((n==null?void 0:n.variables)??{}).forEach(([I,M])=>{w=fe(w,{[I]:p[I]||M.default})});const B=ai(t,d),S=ti(t,d),{body:U}=ei(l.method,t,d),{cookieParams:T}=so({example:t,env:d,globalCookies:a,serverUrl:w,proxyUrl:o}),y=c.flat().map(I=>u[I]).filter(Ae),H=El(y,d),R={...Object.entries(H.headers).reduce((I,[M,F])=>(I[M.toLowerCase()]=F,I),{}),...S},W=[...T,...H.cookies],x=new URLSearchParams([...B,...H.urlParams]);w=Bl(w,f,x);const k=fe(uo(W,R.Cookie),d);k&&(Je(o,w)?(console.warn("We’re using a `X-Scalar-Cookie` custom header to the request. The proxy will forward this as a `Cookie` header. We do this to avoid the browser omitting the `Cookie` header for cross-origin requests for security reasons."),R["X-Scalar-Cookie"]=k):(console.warn(`We’re trying to add a Cookie header, but browsers often omit them for cross-origin requests for various security reasons. If it’s not working, that’s probably why. Here are the requirements for it to work:

          - The browser URL must be on the same domain as the server URL.
          - The connection must be made over HTTPS.
          `),R.Cookie=k));const P=new URLSearchParams([["scalar_url",w.toString()]]),D=Je(o,w)?`${o}?${P.toString()}`:w,j=new Request(D,{method:l.method.toUpperCase(),body:U??null,headers:R});return[null,{request:j,sendRequest:async()=>{r==null||r.emit("start");const I=Date.now();try{const M=await fetch(j,{signal:i.signal});r==null||r.emit("stop");const F=Qs(M.headers,Je(o,w)),re=M.headers.get("content-type")??"text/plain;charset=UTF-8",Z=await M.arrayBuffer(),ce=li(Z,re),C="getSetCookie"in M.headers&&typeof M.headers.getSetCookie=="function"?M.headers.getSetCookie():[];return[null,{timestamp:Date.now(),request:t,response:{...M,headers:F,cookieHeaderKeys:C,data:ce,size:Z.byteLength,duration:Date.now()-I,method:l.method,status:M.status,path:f}}]}catch(M){return r==null||r.emit("abort"),[It(M,gt.REQUEST_FAILED),null]}},controller:i}]}catch(d){return console.error(d),r==null||r.emit("abort"),[It(d),null]}},ri={class:"flex h-full"},ni={key:1,class:"flex h-full flex-1 flex-col"},si=G({__name:"Request",emits:["newTab"],setup(e){const t=ie(),{toast:a}=st(),{layout:o}=we(),{activeCollection:l,activeExample:u,activeEnvironment:c,activeRequest:n,activeWorkspace:r,activeServer:d,activeEnvVariables:i,activeWorkspaceCollections:p,activeWorkspaceRequests:v}=Te(),{cookies:f,modalState:w,requestHistory:B,showSidebar:S,securitySchemes:U,requestMutators:T,serverMutators:y,servers:H,events:R}=t,W=L(o!=="modal"),x=L(),k=L(),P=L(""),D=Se(),j=z(()=>B.findLast(C=>{var E;return C.request.uid===((E=u.value)==null?void 0:E.uid)})),{mediaQueries:I}=Vl();ue(I.xl,C=>W.value=C,{immediate:o!=="modal"});const M=z(()=>{var C,E;return(o==="modal"?(C=l.value)==null?void 0:C.selectedSecuritySchemeUids:(E=n.value)==null?void 0:E.selectedSecuritySchemeUids)??[]}),F=async()=>{var C,E,ae,J;if(!n.value||!u.value||!l.value)return;const Q=typeof c.value=="object"?c.value.value:"{}",q=pr.parse(Q);q.error&&console.error("INVALID ENVIRONMENT!");const V=q.error||typeof q.data!="object"?{}:q.data??{},N=((C=r.value)==null?void 0:C.cookies.map(qe=>f[qe]).filter(Ae))??[],le=((ae=(E=l.value)==null?void 0:E.info)==null?void 0:ae.title)==="Drafts"?void 0:d.value,[te,ve]=oi({request:n.value,example:u.value,selectedSecuritySchemeUids:M.value,proxyUrl:((J=r.value)==null?void 0:J.proxyUrl)??"",environment:V,globalCookies:N,status:R.requestStatus,securitySchemes:U,server:le});if(te){a(te.message,"error");return}x.value=ve.controller;const[ke,ge]=await ve.sendRequest();ke?a(ke.message,"error"):B.push(ge)},re=async()=>{var C;return(C=x.value)==null?void 0:C.abort(gt.REQUEST_ABORTED)};be(()=>{R.executeRequest.on(F),R.cancelRequest.on(re)}),Nr(),Ge(()=>R.executeRequest.off(F));function Z({requestName:C,collectionUid:E}){var ae,J,Q,q,V,N,le;if(!k.value)return;const te=p.value.find(ge=>ge.uid===E);if(!te)return;const ve=((ae=te==null?void 0:te.info)==null?void 0:ae.title)==="Drafts";if(!ve&&k.value.servers){const ge=Object.values(H).find(qe=>{var $t,Pt;return qe.url===((Pt=($t=k==null?void 0:k.value)==null?void 0:$t.servers)==null?void 0:Pt[0])});ge?P.value=ge.uid:P.value=y.add({url:k.value.servers[0]??"/"},te.uid).uid}const ke=T.add({summary:C,path:ve?(J=k==null?void 0:k.value)==null?void 0:J.url:(Q=k==null?void 0:k.value)==null?void 0:Q.path,method:(q=k==null?void 0:k.value)==null?void 0:q.method,parameters:(V=k==null?void 0:k.value)==null?void 0:V.parameters,selectedServerUid:ve?void 0:P.value,requestBody:(N=k==null?void 0:k.value)==null?void 0:N.requestBody},te.uid);ke&&(le=r.value)!=null&&le.uid&&D.push({name:"request",params:{[de.Workspace]:r.value.uid,[de.Collection]:te.uid,[de.Request]:ke.uid}}),w.hide()}function ce(C){k.value=zr(C),w.show()}return(C,E)=>{var ae;return m(),_(ee,null,[s(l)&&s(r)?(m(),_("div",{key:0,class:K(["bg-b-1 relative z-0 flex h-full flex-1 flex-col overflow-hidden pt-0",{"!mb-0 !mr-0 !border-0":s(o)==="modal"}])},[h("div",ri,[s(S)?(m(),$(Xs,{key:0,isSidebarOpen:W.value,onNewTab:E[0]||(E[0]=J=>C.$emit("newTab",J)),"onUpdate:isSidebarOpen":E[1]||(E[1]=J=>W.value=J)},null,8,["isSidebarOpen"])):A("",!0),s(n)?(m(),_("div",ni,[g(Xr,{modelValue:W.value,"onUpdate:modelValue":E[2]||(E[2]=J=>W.value=J),collection:s(l),envVariables:s(i),environment:s(c),operation:s(n),server:s(d),workspace:s(r),onHideModal:E[3]||(E[3]=()=>s(w).hide()),onImportCurl:ce},null,8,["modelValue","collection","envVariables","environment","operation","server","workspace"]),g(ql,null,{default:b(()=>[s(u)?(m(),$(Al,{key:0,class:K(["flex-1",[W.value?"sidebar-active-hide-layout":""]])},{default:b(()=>{var J;return[g(Ko,{collection:s(l),envVariables:s(i),environment:s(c),example:s(u),operation:s(n),selectedSecuritySchemeUids:M.value,server:s(d),workspace:s(r)},null,8,["collection","envVariables","environment","example","operation","selectedSecuritySchemeUids","server","workspace"]),g(ts,{numWorkspaceRequests:s(v).length,response:(J=j.value)==null?void 0:J.response},null,8,["numWorkspaceRequests","response"])]}),_:1},8,["class"])):A("",!0)]),_:1})])):(m(),$(xt,{key:2}))])],2)):(m(),$(xt,{key:1})),k.value?(m(),$(gr,{key:2,collectionUid:((ae=s(l))==null?void 0:ae.uid)??"",parsedCurl:k.value,state:s(w),onClose:E[4]||(E[4]=J=>s(w).hide()),onImportCurl:Z},null,8,["collectionUid","parsedCurl","state"])):A("",!0)],64)}}}),vi=ne(si,[["__scopeId","data-v-02ba9b2d"]]);export{vi as default};
