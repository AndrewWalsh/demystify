import{e as O}from"./DeleteSidebarListElement.vue-BGOmXf3V.js";import{u as d,bA as R,bB as D,r as p,w as y,am as E,c as k,o as T,bC as A,d as F,bD as P,bE as I,K as w,B as f,Q as B,Y as g,z as C,a8 as N,aJ as W,ax as V,bF as G,S as K,U as S,V as z,I as $,ay as j,$ as H,a2 as Q,bG as U,C as J,D as L}from"./index-XT8p-Ppy.js";function Y(e){return R()?(D(e),!0):!1}function M(e){return typeof e=="function"?e():d(e)}const q=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function _(e){var l;const t=M(e);return(l=t==null?void 0:t.$el)!=null?l:t}const X=q?window:void 0;function Z(){const e=p(!1),l=A();return l&&T(()=>{e.value=!0},l),e}function ee(e){const l=Z();return k(()=>(l.value,!!e()))}function te(e,l,t={}){const{window:s=X,...u}=t;let o;const r=ee(()=>s&&"ResizeObserver"in s),n=()=>{o&&(o.disconnect(),o=void 0)},i=k(()=>Array.isArray(e)?e.map(m=>_(m)):[_(e)]),v=y(i,m=>{if(n(),r.value&&s){o=new ResizeObserver(l);for(const h of m)h&&o.observe(h,u)}},{immediate:!0,flush:"post"}),b=()=>{n(),v()};return Y(b),{isSupported:r,stop:b}}function ae(e){var l;const t=p(e==null?void 0:e.element),s=p(e==null?void 0:e.input),u=(l=e==null?void 0:e.styleProp)!=null?l:"height",o=p(1);function r(){var n;if(!t.value)return;let i="";t.value.style[u]="1px",o.value=(n=t.value)==null?void 0:n.scrollHeight,e!=null&&e.styleTarget?M(e.styleTarget).style[u]=`${o.value}px`:i=`${o.value}px`,t.value.style[u]=i}return y([s,t],()=>E(r),{immediate:!0}),y(o,()=>{var n;return(n=e==null?void 0:e.onResize)==null?void 0:n.call(e)}),te(t,()=>r()),e!=null&&e.watch&&y(e.watch,r,{immediate:!0,deep:!0}),{textarea:t,input:s,triggerResize:r}}const re={class:"scalar-input-container relative"},le=["for"],ne={class:"icon-slot cursor-pointer text-c-ghost hover:text-c-1 !empty:flex !empty:w-7 !empty:items-center !empty:pr-3"},oe=F({__name:"ScalarTextField",props:{modelValue:{},placeholder:{},label:{},labelShadowColor:{default:"var(--scalar-background-1)"},error:{type:Boolean},isMultiline:{type:Boolean},helperText:{},emitOnBlur:{type:Boolean,default:!0},handleFieldSubmit:{},handleFieldChange:{},disableTrim:{type:Boolean,default:!1}},emits:["submit","update:modelValue"],setup(e,{emit:l}){const t=e,s=l,u=j({base:"scalar-input-wrapper relative flex items-center rounded border border-solid border-border",variants:{focus:{true:"scalar-input-wrapper-focus border-c-3 has-actv-btn:border has-actv-btn:border-border"},error:{true:"scalar-input-wrapper-error border-red"}}}),o=P(),r=o.id||`id-${I()}`,n=p(),i=p(!1);let v;if(t.isMultiline){const{triggerResize:a}=ae({element:n,input:t.modelValue});v=a}function b(a){const c=a.target.value;t.isMultiline&&v(),t.handleFieldChange?t.handleFieldChange(c):s("update:modelValue",c)}function m(a){const c=a.target,x=t.disableTrim||t.isMultiline?c.value:c.value.trim();t.handleFieldSubmit?t.handleFieldSubmit(x):s("submit",x)}function h(a){i.value=!1,t.emitOnBlur&&t.modelValue&&m(a)}return T(()=>{var a;Object.prototype.hasOwnProperty.call(o,"autofocus")&&((a=n.value)==null||a.focus())}),(a,c)=>(f(),w("div",re,[B("div",{class:S(d(u)({error:a.error,focus:i.value}))},[(f(),C(G(a.isMultiline?"textarea":"input"),N({id:d(r)},a.$attrs,{ref_key:"input",ref:n,class:["scalar-input",d(V)({"min-h-[77px]":a.isMultiline},"z-10 w-full resize-none appearance-none border-0 bg-transparent p-3 text-sm text-c-1","outline-none transition-opacity")],placeholder:a.placeholder,value:a.modelValue,onBlur:h,onFocus:c[0]||(c[0]=x=>i.value=!0),onInput:b,onKeydown:W(m,["enter"])}),null,16,["id","class","placeholder","value"])),a.label?(f(),w("label",{key:0,class:S(d(V)("scalar-input-label pointer-events-none absolute left-0 top-0 mx-2 my-3 px-1 text-sm","z-10 origin-top-left rounded text-c-3 shadow-current transition-transform")),for:d(r),style:K({"box-shadow":`0 0 4px 4px ${a.labelShadowColor}`,"background-color":a.labelShadowColor})},z(a.label),15,le)):g("",!0),B("div",ne,[$(a.$slots,"default",{},void 0,!0)])],2),a.helperText?(f(),w("span",{key:0,class:S(["helper-text mt-1.5 flex items-center gap-1 text-sm",a.error?"font-medium text-red":"text-c-2"])},[a.error?(f(),C(d(Q),{key:0,icon:"Error",size:"sm"})):g("",!0),H(" "+z(a.helperText),1)],2)):g("",!0)]))}}),se=U(oe,[["__scopeId","data-v-4de7a24e"]]),ce=F({__name:"EditSidebarListElement",props:{name:{}},emits:["close","edit"],setup(e,{emit:l}){const t=e,s=l,u=p(t.name);return(o,r)=>(f(),C(O,{onCancel:r[1]||(r[1]=n=>s("close")),onSubmit:r[2]||(r[2]=n=>s("edit",u.value))},{default:J(()=>[L(d(se),{modelValue:u.value,"onUpdate:modelValue":r[0]||(r[0]=n=>u.value=n),autofocus:""},null,8,["modelValue"])]),_:1}))}});export{ce as C,se as m};
